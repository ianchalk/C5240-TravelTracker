import{a as R}from"./chunk-KD2BGZMJ.js";import{b as me,d as fe,e as Be,g as Ge,h as ue,i as Ke,p as Ze,s as he,u as E,v as xe}from"./chunk-IDORQ526.js";import{$ as ae,Aa as Fe,Ba as Y,C as De,Ca as je,Da as W,E as F,Ea as B,F as ze,Fa as Ye,G as Le,Ga as We,H as l,Ha as A,Ia as G,J as y,K as T,L as Ae,O as u,R as d,S as U,T as z,U as r,V as a,W as p,X as w,Y as h,Z as m,_ as re,aa as se,ba as s,c as I,ca as M,da as O,ea as Re,fa as le,ga as ce,ha as pe,j as Te,ja as Ue,ka as H,la as V,ra as j,s as Ee,sa as L,ta as Ne,ua as He,va as D,w as b,wa as Ve,x as _,xa as de,y as P,ya as $e,z as S,za as ge}from"./chunk-2RWO4YJT.js";function tt(i,e){i&1&&(r(0,"a",33),p(1,"i",34),s(2," Your Trips "),a())}function nt(i,e){if(i&1){let t=w();r(0,"div",35)(1,"button",36),h("click",function(){b(t);let o=m();return _(o.loginWithGoogle())}),p(2,"i",37),r(3,"span"),s(4,"Sign in"),a()()()}}function it(i,e){if(i&1&&(r(0,"span",55),s(1),a()),i&2){let t,n=m(2);l(),O(" ",n.currentUser.name==null||(t=n.currentUser.name.charAt(0))==null?null:t.toUpperCase()," ")}}function ot(i,e){if(i&1&&(r(0,"span",55),s(1),a()),i&2){let t,n=m(2);l(),O(" ",n.currentUser.name==null||(t=n.currentUser.name.charAt(0))==null?null:t.toUpperCase()," ")}}function rt(i,e){if(i&1){let t=w();r(0,"div",38)(1,"div",39)(2,"button",40),h("click",function(){b(t);let o=m();return _(o.toggleUserDropdown())}),r(3,"div",41),u(4,it,2,1,"span",42),a(),r(5,"div",43)(6,"span",44),s(7),a(),p(8,"i",45),a()(),r(9,"div",46)(10,"div",47)(11,"div",48),u(12,ot,2,1,"span",42),a(),r(13,"div",49)(14,"div",50),s(15),a(),r(16,"div",51),s(17),a()()(),p(18,"div",52),r(19,"a",53),h("click",function(){b(t);let o=m();return o.logout(),_(o.closeUserDropdown())}),s(20,"> "),p(21,"i",54),s(22," Sign out "),a()()()()}if(i&2){let t=m();l(),z("show",t.isUserDropdownOpen),l(2),U("background-image",t.currentUser.picture?"url("+t.currentUser.picture+")":"none"),l(),d("ngIf",!t.currentUser.picture),l(3),M(t.currentUser.name),l(2),z("show",t.isUserDropdownOpen),l(2),U("background-image",t.currentUser.picture?"url("+t.currentUser.picture+")":"none"),l(),d("ngIf",!t.currentUser.picture),l(3),M(t.currentUser.name),l(2),M(t.currentUser.email)}}function at(i,e){if(i&1){let t=w();r(0,"a",56),h("click",function(){b(t);let o=m();return _(o.closeMobileMenu())}),p(1,"i",57),s(2," Your Trips "),a()}}function st(i,e){if(i&1){let t=w();r(0,"div")(1,"button",58),h("click",function(){b(t);let o=m();return o.loginWithGoogle(),_(o.closeMobileMenu())}),p(2,"i",37),s(3," Sign in with Google "),a()()}}function lt(i,e){if(i&1&&(r(0,"span",55),s(1),a()),i&2){let t,n=m(2);l(),O(" ",n.currentUser.name==null||(t=n.currentUser.name.charAt(0))==null?null:t.toUpperCase()," ")}}function ct(i,e){if(i&1){let t=w();r(0,"div",59)(1,"div",60)(2,"div",61),u(3,lt,2,1,"span",42),a(),r(4,"div",62)(5,"div",63),s(6),a(),r(7,"div",64),s(8),a()()(),r(9,"a",65),h("click",function(){b(t);let o=m();return o.logout(),_(o.closeMobileMenu())}),p(10,"i",54),s(11," Sign out "),a()()}if(i&2){let t=m();l(2),U("background-image",t.currentUser.picture?"url("+t.currentUser.picture+")":"none"),l(),d("ngIf",!t.currentUser.picture),l(3),M(t.currentUser.name),l(2),M(t.currentUser.email)}}var K=class i{constructor(e,t){this.authService=e;this.elementRef=t}isAuthenticated=!1;currentUser=null;isMobileMenuOpen=!1;isUserDropdownOpen=!1;subscriptions=[];ngOnInit(){console.log("HeaderComponent initialized"),this.authService.checkAuthStatus().subscribe();let e=this.authService.isAuthenticated$.subscribe(n=>{console.log("Authentication status changed:",n),this.isAuthenticated=n}),t=this.authService.currentUser$.subscribe(n=>{console.log("Current user changed:",n),this.currentUser=n});this.subscriptions.push(e,t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loginWithGoogle(){this.authService.loginWithGoogle()}logout(){this.authService.logout()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}toggleUserDropdown(){this.isUserDropdownOpen=!this.isUserDropdownOpen}closeUserDropdown(){this.isUserDropdownOpen=!1}onDocumentClick(e){let t=e.target;this.elementRef.nativeElement.contains(t)||(this.closeUserDropdown(),this.closeMobileMenu())}debugCheckAuth(){console.log("=== DEBUG: Manual Auth Check ==="),console.log("Current isAuthenticated:",this.isAuthenticated),console.log("Current user:",this.currentUser),this.authService.checkAuthStatus().subscribe({next:e=>{console.log("Auth check response:",e)},error:e=>{console.error("Auth check error:",e)}})}static \u0275fac=function(t){return new(t||i)(y(R),y(De))};static \u0275cmp=T({type:i,selectors:[["app-header"]],hostBindings:function(t,n){t&1&&h("click",function(c){return n.onDocumentClick(c)},!1,Le)},decls:42,vars:8,consts:[[1,"modern-header"],[1,"header-container"],[1,"brand-section"],["routerLink","/",1,"brand-link"],[1,"logo-container"],["width","32","height","32","viewBox","0 0 32 32",1,"logo-icon"],["d","M16 2L20 10L30 10L22 16L26 24L16 20L6 24L10 16L2 10L12 10Z","fill","#2d5016"],[1,"brand-text"],[1,"main-nav"],["routerLink","/trips","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-globe","nav-icon"],["class","nav-link","routerLink","/your-trips","routerLinkActive","active",4,"ngIf"],["routerLink","/social","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-users","nav-icon"],["routerLink","/reviews","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-star","nav-icon"],[1,"user-section"],["class","auth-buttons",4,"ngIf"],["class","user-menu",4,"ngIf"],["type","button",1,"mobile-menu-toggle",3,"click"],[1,"hamburger-line"],[1,"mobile-nav"],[1,"mobile-nav-content"],["routerLink","/trips",1,"mobile-nav-link",3,"click"],[1,"fas","fa-globe"],["class","mobile-nav-link","routerLink","/your-trips",3,"click",4,"ngIf"],["routerLink","/social",1,"mobile-nav-link",3,"click"],[1,"fas","fa-users"],["routerLink","/reviews",1,"mobile-nav-link",3,"click"],[1,"fas","fa-star"],[1,"mobile-auth-section"],[4,"ngIf"],["class","mobile-user-section",4,"ngIf"],["routerLink","/your-trips","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-user","nav-icon"],[1,"auth-buttons"],[1,"btn-login",3,"click"],[1,"fab","fa-google"],[1,"user-menu"],[1,"dropdown"],["type","button",1,"user-button",3,"click"],[1,"user-avatar"],["class","avatar-initial",4,"ngIf"],[1,"user-info"],[1,"user-name"],[1,"fas","fa-chevron-down","dropdown-arrow"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"user-avatar-large"],[1,"user-details"],[1,"user-name-large"],[1,"user-email"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"avatar-initial"],["routerLink","/your-trips",1,"mobile-nav-link",3,"click"],[1,"fas","fa-user"],[1,"mobile-login-btn",3,"click"],[1,"mobile-user-section"],[1,"mobile-user-info"],[1,"user-avatar-mobile"],[1,"mobile-user-details"],[1,"mobile-user-name"],[1,"mobile-user-email"],["href","#",1,"mobile-nav-link","logout-link",3,"click"]],template:function(t,n){t&1&&(r(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),P(),r(5,"svg",5),p(6,"path",6),a(),S(),r(7,"span",7),s(8,"TravelTracker"),a()()()(),r(9,"nav",8)(10,"a",9),p(11,"i",10),s(12," Public Trips "),a(),u(13,tt,3,0,"a",11),r(14,"a",12),p(15,"i",13),s(16," Community "),a(),r(17,"a",14),p(18,"i",15),s(19," Reviews "),a()(),r(20,"div",16),u(21,nt,5,0,"div",17)(22,rt,23,13,"div",18),a(),r(23,"button",19),h("click",function(){return n.toggleMobileMenu()}),p(24,"span",20)(25,"span",20)(26,"span",20),a()(),r(27,"div",21)(28,"div",22)(29,"a",23),h("click",function(){return n.closeMobileMenu()}),p(30,"i",24),s(31," Public Trips "),a(),u(32,at,3,0,"a",25),r(33,"a",26),h("click",function(){return n.closeMobileMenu()}),p(34,"i",27),s(35," Community "),a(),r(36,"a",28),h("click",function(){return n.closeMobileMenu()}),p(37,"i",29),s(38," Reviews "),a(),r(39,"div",30),u(40,st,4,0,"div",31)(41,ct,12,5,"div",32),a()()()()),t&2&&(l(13),d("ngIf",n.isAuthenticated),l(8),d("ngIf",!n.isAuthenticated),l(),d("ngIf",n.isAuthenticated&&n.currentUser),l(5),z("open",n.isMobileMenuOpen),l(5),d("ngIf",n.isAuthenticated),l(8),d("ngIf",!n.isAuthenticated),l(),d("ngIf",n.isAuthenticated&&n.currentUser))},dependencies:[A,B,Ye,D,L],styles:[".modern-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#fff;border-bottom:1px solid #e9ecef;box-shadow:0 2px 12px #00000014;z-index:1000;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.header-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between;height:72px}.brand-section[_ngcontent-%COMP%]{flex-shrink:0}.brand-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo-icon[_ngcontent-%COMP%]{flex-shrink:0}.brand-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#2d5016;letter-spacing:-.02em}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;border-radius:8px;color:#495057;text-decoration:none;font-size:15px;font-weight:500;transition:all .15s ease;position:relative}.nav-link[_ngcontent-%COMP%]:hover{color:#2d5016;background-color:#f8f9fa}.nav-link.active[_ngcontent-%COMP%]{color:#2d5016;background-color:#e8f5e8}.nav-icon[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-login[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 20px;background:#2d5016;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .15s ease}.btn-login[_ngcontent-%COMP%]:hover{background:#1e3310;transform:translateY(-1px);box-shadow:0 4px 12px #2d50164d}.user-menu[_ngcontent-%COMP%]{position:relative}.user-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:6px 12px 6px 6px;background:#fff;border:1px solid #e9ecef;border-radius:24px;cursor:pointer;transition:all .15s ease;min-width:120px}.user-button[_ngcontent-%COMP%]:hover{border-color:#2d5016;box-shadow:0 2px 8px #0000001a}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#2d5016;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px;flex-shrink:0}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#495057;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dropdown-arrow[_ngcontent-%COMP%]{font-size:10px;color:#6c757d;transition:transform .15s ease}.user-button[aria-expanded=true][_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;min-width:280px;background:#fff;border:1px solid #e9ecef;border-radius:12px;box-shadow:0 8px 24px #0000001f;padding:8px 0;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .15s ease}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]:focus-within   .dropdown-menu[_ngcontent-%COMP%], .dropdown.show[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-header[_ngcontent-%COMP%]{padding:16px 20px;display:flex;align-items:center;gap:12px}.user-avatar-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#2d5016;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:18px;flex-shrink:0}.user-details[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name-large[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#212529;margin-bottom:2px}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;word-break:break-all}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#e9ecef;margin:8px 0}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#495057;text-decoration:none;font-size:14px;font-weight:500;transition:all .15s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#2d5016}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px;font-size:14px;opacity:.7}.logout-item[_ngcontent-%COMP%]{color:#dc3545}.logout-item[_ngcontent-%COMP%]:hover{background-color:#fff5f5;color:#dc3545}.mobile-menu-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:4px;padding:8px;background:none;border:none;cursor:pointer}.hamburger-line[_ngcontent-%COMP%]{width:20px;height:2px;background:#495057;border-radius:1px;transition:all .3s ease}.mobile-nav[_ngcontent-%COMP%]{position:fixed;top:72px;left:0;right:0;background:#fff;border-bottom:1px solid #e9ecef;max-height:0;overflow:hidden;transition:max-height .3s ease}.mobile-nav.open[_ngcontent-%COMP%]{max-height:calc(100vh - 72px);box-shadow:0 8px 24px #0000001f}.mobile-nav-content[_ngcontent-%COMP%]{padding:20px 24px}.mobile-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 0;color:#495057;text-decoration:none;font-size:16px;font-weight:500;border-bottom:1px solid #f8f9fa}.mobile-nav-link[_ngcontent-%COMP%]:hover{color:#2d5016}.mobile-nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-auth-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid #e9ecef}.mobile-login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:16px;background:#2d5016;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.mobile-user-section[_ngcontent-%COMP%]{margin-top:16px}.mobile-user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 0;border-bottom:1px solid #f8f9fa;margin-bottom:16px}.user-avatar-mobile[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#2d5016;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:18px;flex-shrink:0}.mobile-user-details[_ngcontent-%COMP%]{flex:1;min-width:0}.mobile-user-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#212529;margin-bottom:2px}.mobile-user-email[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;word-break:break-all}.logout-link[_ngcontent-%COMP%]{color:#dc3545!important}@media (max-width: 768px){.header-container[_ngcontent-%COMP%]{padding:0 16px;height:64px}.main-nav[_ngcontent-%COMP%]{display:none}.mobile-menu-toggle[_ngcontent-%COMP%]{display:flex}.brand-text[_ngcontent-%COMP%]{font-size:18px}.user-button[_ngcontent-%COMP%]{min-width:auto}.user-name[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%]{top:64px}}@media (max-width: 480px){.header-container[_ngcontent-%COMP%]{padding:0 12px}.dropdown-menu[_ngcontent-%COMP%]{min-width:calc(100vw - 24px);right:-12px}.mobile-nav-content[_ngcontent-%COMP%]{padding:16px 12px}}.nav-link[_ngcontent-%COMP%]:focus, .btn-login[_ngcontent-%COMP%]:focus, .user-button[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:focus{outline:2px solid #2d5016;outline-offset:2px}.avatar-initial[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};var _e=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["app-footer"]],decls:78,vars:0,consts:[[1,"modern-footer"],[1,"footer-container"],[1,"footer-content"],[1,"footer-section","brand-section"],[1,"footer-brand"],[1,"footer-logo"],["width","36","height","36","viewBox","0 0 32 32",1,"logo-icon"],["d","M16 2L20 10L30 10L22 16L26 24L16 20L6 24L10 16L2 10L12 10Z","fill","#2d5016"],[1,"footer-brand-text"],[1,"footer-description"],[1,"footer-section"],[1,"footer-title"],[1,"footer-links"],["routerLink","/welcomepage",1,"footer-link"],[1,"fas","fa-home","link-icon"],["routerLink","/trips",1,"footer-link"],[1,"fas","fa-globe","link-icon"],["routerLink","/social",1,"footer-link"],[1,"fas","fa-users","link-icon"],["routerLink","/reviews",1,"footer-link"],[1,"fas","fa-star","link-icon"],[1,"footer-section","newsletter-section"],[1,"newsletter-description"],[1,"footer-features"],[1,"feature-item"],[1,"fas","fa-map-marked-alt","feature-icon"],[1,"fas","fa-user-friends","feature-icon"],[1,"footer-links","team-members-list"],[1,"footer-link","team-member"],[1,"fas","fa-user","link-icon"],[1,"footer-bottom"],[1,"footer-bottom-content"],[1,"copyright"],[1,"footer-badges"],[1,"badge-item"],[1,"fas","fa-lock"]],template:function(t,n){t&1&&(r(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),P(),r(6,"svg",6),p(7,"path",7),a(),S(),r(8,"span",8),s(9,"TravelTracker"),a()(),r(10,"p",9),s(11," Discover amazing destinations, track your adventures, and share your travel stories with a community of explorers. "),a()()(),r(12,"div",10)(13,"h6",11),s(14,"Explore"),a(),r(15,"ul",12)(16,"li")(17,"a",13),p(18,"i",14),s(19,"Home "),a()(),r(20,"li")(21,"a",15),p(22,"i",16),s(23,"Public Trips "),a()(),r(24,"li")(25,"a",17),p(26,"i",18),s(27,"Community "),a()(),r(28,"li")(29,"a",19),p(30,"i",20),s(31,"Reviews "),a()()()(),r(32,"div",21)(33,"h6",11),s(34,"Stay Inspired"),a(),r(35,"p",22),s(36," Get travel tips, destination guides, and community highlights delivered to your inbox. "),a(),r(37,"div",23)(38,"div",24),p(39,"i",25),r(40,"span"),s(41,"1000+ Destinations"),a()(),r(42,"div",24),p(43,"i",26),r(44,"span"),s(45,"Travel Community"),a()()()(),r(46,"div",10)(47,"h6",11),s(48,"SAAS Group Project"),a(),r(49,"p",22),s(50," Team Members: "),a(),r(51,"ul",27)(52,"li")(53,"span",28),p(54,"i",29),s(55,"Jenitza Ruiz "),a()(),r(56,"li")(57,"span",28),p(58,"i",29),s(59,"Ian Tjok "),a()(),r(60,"li")(61,"span",28),p(62,"i",29),s(63,"Hongru He "),a()(),r(64,"li")(65,"span",28),p(66,"i",29),s(67,"Yushaiyin Abudukeyoumu "),a()()()()(),r(68,"div",30)(69,"div",31)(70,"div",32)(71,"p"),s(72,"\xA9 2025 TravelTracker. All rights reserved."),a()(),r(73,"div",33)(74,"div",34),p(75,"i",35),r(76,"span"),s(77,"Secure"),a()()()()()()())},dependencies:[D,A,B],styles:['.modern-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d5016,#1e3310);color:#fff;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;position:relative;overflow:hidden}.modern-footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,#61ef79 50%,transparent 100%)}.modern-footer[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-50%;width:200%;height:100%;background:radial-gradient(circle at 20% 20%,rgba(97,239,121,.1) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(43,158,95,.1) 0%,transparent 50%);pointer-events:none}.footer-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px;position:relative;z-index:1}.footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1.5fr;gap:48px;padding:60px 0 40px}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:32px;padding:40px 0 32px}}.brand-section[_ngcontent-%COMP%]{max-width:350px}.footer-brand[_ngcontent-%COMP%]{margin-bottom:24px}.footer-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.logo-icon[_ngcontent-%COMP%]{flex-shrink:0;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.footer-brand-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#fff;letter-spacing:-.02em}.footer-description[_ngcontent-%COMP%]{color:#e8f5e8;font-size:15px;line-height:1.6;margin-bottom:24px;opacity:.9}.social-links[_ngcontent-%COMP%]{display:flex;gap:16px}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:44px;height:44px;background:#ffffff1a;color:#fff;border-radius:12px;text-decoration:none;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.social-link[_ngcontent-%COMP%]:hover{background:#61ef7933;color:#61ef79;transform:translateY(-2px);box-shadow:0 8px 25px #61ef794d;border-color:#61ef794d}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.footer-section[_ngcontent-%COMP%]   h6.footer-title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:600;margin-bottom:20px;letter-spacing:.02em}.footer-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.footer-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#e8f5e8;text-decoration:none;font-size:14px;font-weight:400;transition:all .3s ease;padding:6px 0;opacity:.9;border:none!important;outline:none!important;background:none;box-shadow:none!important}.footer-link[_ngcontent-%COMP%]:hover{color:#61ef79;transform:translate(4px);opacity:1;border:none!important;outline:none!important;box-shadow:none!important}.footer-link[_ngcontent-%COMP%]:focus{border:none!important;outline:none!important;box-shadow:none!important;color:#61ef79}.footer-link[_ngcontent-%COMP%]:active, .footer-link[_ngcontent-%COMP%]:visited{border:none!important;outline:none!important;box-shadow:none!important}.link-icon[_ngcontent-%COMP%]{font-size:12px;width:16px;opacity:.7}.newsletter-section[_ngcontent-%COMP%]{max-width:580px}.team-members-list[_ngcontent-%COMP%]{padding-left:-500px}.newsletter-description[_ngcontent-%COMP%]{color:#e8f5e8;font-size:14px;line-height:1.5;margin-bottom:20px;opacity:.9}.newsletter-form[_ngcontent-%COMP%]{margin-bottom:24px}.input-group[_ngcontent-%COMP%]{display:flex;border-radius:12px;overflow:hidden;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.newsletter-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:none;background:transparent;color:#fff;font-size:14px;outline:none}.newsletter-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.newsletter-btn[_ngcontent-%COMP%]{padding:12px 16px;background:linear-gradient(135deg,#61ef79,#2b9e5f);color:#2d5016;border:none;cursor:pointer;transition:all .3s ease;font-weight:600}.newsletter-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2b9e5f,#61ef79);transform:scale(1.05)}.newsletter-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.footer-features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#e8f5e8;font-size:13px;opacity:.8}.feature-icon[_ngcontent-%COMP%]{color:#61ef79;font-size:14px;width:16px}.footer-bottom[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding:24px 0}.footer-bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}@media (max-width: 768px){.footer-bottom-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e8f5e8;font-size:14px;margin:0;opacity:.8}.footer-badges[_ngcontent-%COMP%]{display:flex;gap:20px}.badge-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#e8f5e8;font-size:12px;font-weight:500;opacity:.8}.badge-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#61ef79;font-size:14px}@media (max-width: 992px){.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:40px}.brand-section[_ngcontent-%COMP%]{grid-column:1 / -1;max-width:none}}@media (max-width: 576px){.footer-container[_ngcontent-%COMP%]{padding:0 16px}.social-links[_ngcontent-%COMP%], .footer-badges[_ngcontent-%COMP%]{justify-content:center}.newsletter-section[_ngcontent-%COMP%]{max-width:none}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.footer-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.footer-section[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.footer-section[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.footer-section[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.footer-section[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.footer-link[_ngcontent-%COMP%]:focus{outline:none!important;border:none!important;box-shadow:none!important}.social-link[_ngcontent-%COMP%]:focus, .newsletter-btn[_ngcontent-%COMP%]:focus{outline:2px solid #61ef79;outline-offset:2px}@media (prefers-color-scheme: dark){.modern-footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a2e0f,#0f1a08)}}.team-member[_ngcontent-%COMP%]{cursor:default;border:none!important;outline:none!important;box-shadow:none!important}.team-member[_ngcontent-%COMP%]:hover{transform:none;color:#e8f5e8;opacity:.9}']})};var ve=class i{constructor(e){this.authService=e}title="travel-tracker";ngOnInit(){console.log("AppComponent initialized"),this.authService.checkAuthStatus().subscribe()}onWindowFocus(e){console.log("Window focused - checking auth status"),this.authService.checkAuthStatus().subscribe()}static \u0275fac=function(t){return new(t||i)(y(R))};static \u0275cmp=T({type:i,selectors:[["app-root"]],hostBindings:function(t,n){t&1&&h("focus",function(c){return n.onWindowFocus(c)},!1,ze)},decls:4,vars:0,consts:[[1,"container","my-5"]],template:function(t,n){t&1&&(p(0,"app-header"),r(1,"div",0),p(2,"router-outlet"),a(),p(3,"app-footer"))},dependencies:[K,_e,je],encapsulation:2})};function pt(i,e,t,n){function o(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function f(x){try{k(n.next(x))}catch(C){g(C)}}function v(x){try{k(n.throw(x))}catch(C){g(C)}}function k(x){x.done?c(x.value):o(x.value).then(f,v)}k((n=n.apply(i,e||[])).next())})}function dt(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gt=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,c;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!i(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(c=Object.keys(e),n=c.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[o]))return!1;for(o=n;o--!==0;){var g=c[o];if(!i(e[g],t[g]))return!1}return!0}return e!==e&&t!==t},mt=dt(gt),Qe="__googleMapsScriptId",X=function(i){return i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE",i}(X||{}),Z=class i{constructor({apiKey:e,authReferrerPolicy:t,channel:n,client:o,id:c=Qe,language:g,libraries:f=[],mapIds:v,nonce:k,region:x,retries:C=3,url:te="https://maps.googleapis.com/maps/api/js",version:Q}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=n,this.client=o,this.id=c||Qe,this.language=g,this.libraries=f,this.mapIds=v,this.nonce=k,this.region=x,this.retries=C,this.url=te,this.version=Q,i.instance){if(!mt(this.options,i.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(i.instance.options)}`);return i.instance}i.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?X.FAILURE:this.done?X.SUCCESS:this.loading?X.LOADING:X.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}let n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(c=>!n[c]&&delete n[c]),!((t=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(c=>{let g,f,v,k="The Google Maps JavaScript API",x="google",C="importLibrary",te="__ib__",Q=document,q=window;q=q[x]||(q[x]={});let ne=q.maps||(q.maps={}),Se=new Set,ie=new URLSearchParams,Xe=()=>g||(g=new Promise((oe,we)=>pt(this,void 0,void 0,function*(){var Oe;yield f=Q.createElement("script"),f.id=this.id,ie.set("libraries",[...Se]+"");for(v in c)ie.set(v.replace(/[A-Z]/g,et=>"_"+et[0].toLowerCase()),c[v]);ie.set("callback",x+".maps."+te),f.src=this.url+"?"+ie,ne[te]=oe,f.onerror=()=>g=we(Error(k+" could not load.")),f.nonce=this.nonce||((Oe=Q.querySelector("script[nonce]"))===null||Oe===void 0?void 0:Oe.nonce)||"",Q.head.append(f)})));ne[C]?console.warn(k+" only loads once. Ignoring:",c):ne[C]=(oe,...we)=>Se.add(oe)&&Xe().then(()=>ne[C](oe,...we))})(n);let o=this.libraries.map(c=>this.importLibrary(c));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),c=>{let g=new ErrorEvent("error",{error:c});this.loadErrorCallback(g)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}};var ft=["mapElement"];function ut(i,e){if(i&1&&(r(0,"div",5)(1,"div",6),P(),r(2,"svg",7),p(3,"path",8),a(),S(),r(4,"p"),s(5),a(),r(6,"small"),s(7,"Falling back to static map view"),a()()()),i&2){let t=m();l(5),M(t.errorMessage)}}function ht(i,e){i&1&&(r(0,"div",9),p(1,"div",10),r(2,"p"),s(3,"Loading interactive map..."),a()())}var Ce=class i{mapElement;places=[];tripName="";mapHeight=400;apiKey="";map;markers=[];loader;isLoading=!0;errorMessage="";ngOnInit(){this.loader=new Z({apiKey:this.apiKey||"YOUR_API_KEY_HERE",version:"weekly",libraries:["places","geometry"]})}ngAfterViewInit(){this.initializeMap()}ngOnDestroy(){this.clearMarkers()}initializeMap(){return I(this,null,function*(){try{this.isLoading=!0,this.errorMessage="",yield this.loader.load();let e=this.getPlacesWithCoordinates();e.length===0?this.initializeDefaultMap():this.initializeMapWithPlaces(e),this.isLoading=!1}catch(e){console.error("Error loading Google Maps:",e),this.errorMessage="Unable to load interactive map. Please check your internet connection.",this.isLoading=!1}})}getPlacesWithCoordinates(){return this.places.filter(e=>e.address&&this.hasCoordinates(e.address)).map(e=>({place:e,coordinates:this.getCoordinates(e.address)}))}hasCoordinates(e){return typeof e=="string"?!1:E.hasCoordinates(e)}getCoordinates(e){if(typeof e=="string")return{lat:0,lng:0};let t=E.getCoordinates(e);return{lat:t?.latitude||0,lng:t?.longitude||0}}initializeDefaultMap(){let e={lat:20,lng:0},t=2;this.map=new google.maps.Map(this.mapElement.nativeElement,{center:e,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]});let n=new google.maps.InfoWindow({content:`
        <div style="text-align: center; padding: 10px;">
          <h4>\u{1F4CD} ${this.tripName}</h4>
          <p>Add locations with addresses to see them on the map!</p>
        </div>
      `});n.setPosition(e),n.open(this.map)}initializeMapWithPlaces(e){let t=new google.maps.LatLngBounds;if(e.forEach(({coordinates:n})=>{t.extend(new google.maps.LatLng(n.lat,n.lng))}),this.map=new google.maps.Map(this.mapElement.nativeElement,{mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}),e.forEach(({place:n,coordinates:o},c)=>{this.createMarker(n,o,c+1)}),e.length===1)this.map.setCenter(e[0].coordinates),this.map.setZoom(14);else{this.map.fitBounds(t);let n={top:50,right:50,bottom:50,left:50};this.map.fitBounds(t,n)}this.addTripInfoWindow()}createMarker(e,t,n){let o=new google.maps.Marker({position:t,map:this.map,title:e.name,label:{text:n.toString(),color:"white",fontWeight:"bold"},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
          <svg width="32" height="40" viewBox="0 0 32 40" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 0C7.2 0 0 7.2 0 16c0 8.8 16 24 16 24s16-15.2 16-24C32 7.2 24.8 0 16 0z" fill="#dc3545"/>
            <circle cx="16" cy="16" r="8" fill="white"/>
          </svg>
        `),scaledSize:new google.maps.Size(32,40),anchor:new google.maps.Point(16,40)}}),c=this.createMarkerInfoContent(e,n),g=new google.maps.InfoWindow({content:c});o.addListener("click",()=>{this.closeAllInfoWindows(),g.open(this.map,o)}),this.markers.push(o)}createMarkerInfoContent(e,t){let n=this.getDisplayAddress(e),o=e.pictures&&e.pictures.length>0?e.pictures[0]:null;return`
      <div style="max-width: 300px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <span style="background: #dc3545; color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; margin-right: 8px;">
            ${t}
          </span>
          <h4 style="margin: 0; font-size: 16px; font-weight: 600; color: #333;">${e.name}</h4>
        </div>
        
        ${o?`
          <img src="${o}" 
               style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px; margin-bottom: 8px;"
               onerror="this.style.display='none'" />
        `:""}
        
        <p style="margin: 8px 0; font-size: 13px; color: #666; line-height: 1.4;">
          \u{1F4CD} ${n}
        </p>
        
        ${e.notes?`
          <p style="margin: 8px 0; font-size: 13px; color: #555; line-height: 1.4; max-height: 60px; overflow: hidden;">
            ${e.notes.length>100?e.notes.substring(0,100)+"...":e.notes}
          </p>
        `:""}
        
        ${e.cost?`
          <p style="margin: 4px 0; font-size: 12px; color: #28a745; font-weight: 500;">
            \u{1F4B0} $${e.cost}
          </p>
        `:""}
      </div>
    `}getDisplayAddress(e){return e.address?typeof e.address=="string"?e.address:E.getDisplayAddress(e.address):e.location||"No address available"}addTripInfoWindow(){let e=document.createElement("div");e.style.backgroundColor="white",e.style.border="2px solid #fff",e.style.borderRadius="8px",e.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",e.style.cursor="pointer",e.style.marginBottom="22px",e.style.textAlign="center",e.title="Trip Summary";let t=document.createElement("div");t.style.color="rgb(25,25,25)",t.style.fontFamily="Roboto,Arial,sans-serif",t.style.fontSize="14px",t.style.lineHeight="40px",t.style.paddingLeft="5px",t.style.paddingRight="5px",t.innerHTML=`\u{1F4CD} ${this.tripName}`,e.appendChild(t),e.addEventListener("click",()=>{let n=`
        <div style="text-align: center; padding: 16px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
          <h3 style="margin: 0 0 12px 0; color: #333;">\u{1F5FA}\uFE0F ${this.tripName}</h3>
          <p style="margin: 8px 0; color: #666;">
            <strong>${this.places.length}</strong> location${this.places.length>1?"s":""} on this trip
          </p>
          <div style="margin-top: 12px; font-size: 13px; color: #555;">
            Click on any marker to see location details
          </div>
        </div>
      `,o=new google.maps.InfoWindow({content:n});o.setPosition(this.map.getCenter()),o.open(this.map)}),this.map.controls[google.maps.ControlPosition.TOP_CENTER].push(e)}closeAllInfoWindows(){}clearMarkers(){this.markers.forEach(e=>{e.setMap(null)}),this.markers=[]}refreshMap(){this.map&&(this.clearMarkers(),this.initializeMap())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["app-interactive-map"]],viewQuery:function(t,n){if(t&1&&re(ft,5),t&2){let o;ae(o=se())&&(n.mapElement=o.first)}},inputs:{places:"places",tripName:"tripName",mapHeight:"mapHeight",apiKey:"apiKey"},decls:5,vars:4,consts:[["mapElement",""],[1,"interactive-map-container"],[1,"map-container"],["class","map-error",4,"ngIf"],["class","map-loading",4,"ngIf"],[1,"map-error"],[1,"error-content"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z","fill","#ff6b6b"],[1,"map-loading"],[1,"loading-spinner"]],template:function(t,n){t&1&&(r(0,"div",1),p(1,"div",2,0),u(3,ut,8,1,"div",3)(4,ht,4,0,"div",4),a()),t&2&&(l(),U("height",n.mapHeight,"px"),l(2),d("ngIf",n.errorMessage),l(),d("ngIf",n.isLoading))},dependencies:[D,L],styles:['.interactive-map-container[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a;overflow:hidden;border:1px solid rgba(255,255,255,.3);position:relative;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.map-container[_ngcontent-%COMP%]{width:100%;min-height:450px;position:relative;background:linear-gradient(135deg,#f8fffe,#f0f7f4);border-radius:20px}.map-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;background:linear-gradient(135deg,#f8fffe,#f0f7f4);color:#2b9e5f}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid rgba(43,158,95,.1);border-left-color:#2b9e5f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px;box-shadow:0 4px 20px #2b9e5f1a}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.map-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:80px 20px;background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid rgba(220,53,69,.2);margin:0;border-radius:20px}.error-content[_ngcontent-%COMP%]{text-align:center;color:#dc3545}.error-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.8}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-weight:600;font-size:1.1rem}.error-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;font-weight:500}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.map-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1.1rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.shimmer-loading[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.map-controls[_ngcontent-%COMP%]{backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);background:#ffffff40;border:1px solid rgba(255,255,255,.18)}@media (max-width: 1024px){.interactive-map-container[_ngcontent-%COMP%]{border-radius:18px}.map-title[_ngcontent-%COMP%]{font-size:1.3rem}}@media (max-width: 768px){.interactive-map-container[_ngcontent-%COMP%]{border-radius:16px;margin:0 -8px}.map-title[_ngcontent-%COMP%]{font-size:1.25rem}.map-info[_ngcontent-%COMP%]{justify-content:center}.map-container[_ngcontent-%COMP%]{min-height:350px}.map-loading[_ngcontent-%COMP%]{padding:60px 20px}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 480px){.interactive-map-container[_ngcontent-%COMP%]{border-radius:12px}.map-title[_ngcontent-%COMP%]{font-size:1.1rem}.map-container[_ngcontent-%COMP%]{min-height:300px}.map-loading[_ngcontent-%COMP%]{padding:50px 16px}.loading-spinner[_ngcontent-%COMP%]{width:36px;height:36px;border-width:3px}}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw-c[_ngcontent-%COMP%]{padding:16px!important;border-radius:12px!important;box-shadow:0 8px 32px #0000001f!important;border:1px solid rgba(43,158,95,.1)!important;background:#fff!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw-d[_ngcontent-%COMP%]{overflow:hidden!important;max-width:280px!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]   .info-window-content[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]   .place-name[_ngcontent-%COMP%]{font-size:1.1rem!important;font-weight:700!important;color:#2b9e5f!important;margin-bottom:8px!important;line-height:1.4!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]   .place-address[_ngcontent-%COMP%]{font-size:.9rem!important;color:#6c757d!important;margin-bottom:12px!important;line-height:1.5!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]   .place-details[_ngcontent-%COMP%]{display:flex!important;gap:12px!important;font-size:.85rem!important;flex-wrap:wrap!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{background:#2b9e5f1a!important;padding:4px 8px!important;border-radius:6px!important;color:#2b9e5f!important;font-weight:600!important;white-space:nowrap!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw-t[_ngcontent-%COMP%]:after{background:#2b9e5f!important;width:14px!important;height:14px!important;margin:6px!important;border-radius:50%!important;transition:all .3s ease!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw-t[_ngcontent-%COMP%]:hover:after{background:#228b50!important;transform:scale(1.1)!important}.cluster[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);border-radius:50%;color:#fff;font-weight:700;text-align:center;font-size:12px;width:44px;height:44px;line-height:44px;box-shadow:0 4px 16px #2b9e5f4d,0 2px 8px #0003;border:2px solid white;transition:all .3s cubic-bezier(.4,0,.2,1)}.cluster[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 20px #2b9e5f66,0 4px 12px #0000004d}.custom-marker[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);border-radius:50% 50% 50% 0;width:24px;height:24px;border:2px solid white;box-shadow:0 2px 8px #0000004d;transform:rotate(-45deg);position:relative}.custom-marker[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg);width:8px;height:8px;background:#fff;border-radius:50%}.gm-style[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.gm-style[_ngcontent-%COMP%]   .gm-bundled-control[_ngcontent-%COMP%]{margin:12px!important}.gm-style[_ngcontent-%COMP%]   .gm-bundled-control[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:8px!important;box-shadow:0 4px 16px #0000001f!important}.gm-style[_ngcontent-%COMP%]   .gm-bundled-control-on-bottom[_ngcontent-%COMP%]{margin:12px 12px 32px!important}.gm-style[_ngcontent-%COMP%]   .gm-fullscreen-control[_ngcontent-%COMP%]{background:#fffffff2!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;border-radius:8px!important;box-shadow:0 4px 16px #0000001f!important}.gm-style[_ngcontent-%COMP%]   .gm-style-iw-tc[_ngcontent-%COMP%]:after{background:linear-gradient(45deg,white 50%,transparent 50%)!important}.gm-style[_ngcontent-%COMP%]   .gm-svpc[_ngcontent-%COMP%]{background:#2b9e5f1a!important;border-radius:8px!important}.gm-style[_ngcontent-%COMP%]   .gm-style-mtc[_ngcontent-%COMP%]{background:#fffffff2!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;border-radius:8px!important;box-shadow:0 4px 16px #0000001f!important}.map-tile-loading[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px}.error-actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:12px;justify-content:center}.retry-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-family:inherit}.retry-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #2b9e5f4d}.interactive-map-container[_ngcontent-%COMP%]:focus-within{outline:2px solid #2b9e5f;outline-offset:2px}@media (prefers-contrast: high){.interactive-map-container[_ngcontent-%COMP%]{border:2px solid #000}}@media (prefers-reduced-motion: reduce){.interactive-map-container[_ngcontent-%COMP%], .loading-spinner[_ngcontent-%COMP%], .cluster[_ngcontent-%COMP%]{animation:none;transition:none}.cluster[_ngcontent-%COMP%]:hover{transform:none}}']})};var bt=i=>["/tripdetail",i];function _t(i,e){if(i&1&&(r(0,"div")(1,"h1",26),s(2),a(),r(3,"p",27),s(4,"Ready for your next adventure?"),a(),r(5,"div",28)(6,"button",29),p(7,"i",30),s(8,"View My Trips "),a(),r(9,"button",31),p(10,"i",32),s(11,"Plan New Trip "),a()()()),i&2){let t=m();l(2),O("Welcome back, ",t.currentUser.name,"!")}}function vt(i,e){i&1&&(r(0,"div")(1,"h1",26),s(2,"Looking for a place to travel?"),a(),r(3,"p",27),s(4,"Join thousands of travelers tracking their adventures"),a(),r(5,"div",33)(6,"p",34),s(7,"Start tracking your travels in seconds"),a()()())}function Ct(i,e){i&1&&(r(0,"div",35)(1,"div",36)(2,"span",37),s(3,"Loading map data..."),a()(),r(4,"p",38),s(5,"Loading travel destinations..."),a()())}function Pt(i,e){if(i&1&&(r(0,"div",39),p(1,"i",40),s(2),a()),i&2){let t=m();l(2),O(" ",t.mapError," ")}}function Mt(i,e){if(i&1&&(r(0,"div",41),p(1,"app-interactive-map",42),a()),i&2){let t=m();l(),d("places",t.allPublicPlaces)("apiKey",t.googleMapsApiKey)("mapHeight",500)}}function yt(i,e){i&1&&(r(0,"div",35)(1,"div",43)(2,"div"),p(3,"i",44),r(4,"h4",45),s(5,"No public destinations available"),a(),r(6,"p",45),s(7,"Check back later for shared travel destinations from our community"),a()()()())}function wt(i,e){i&1&&(r(0,"div",46)(1,"div",36)(2,"span",37),s(3,"Loading top places..."),a()(),r(4,"p",38),s(5,"Discovering amazing destinations..."),a()())}function Ot(i,e){if(i&1&&(r(0,"div",39),p(1,"i",40),s(2),a()),i&2){let t=m();l(2),O(" ",t.topPlacesError," ")}}function kt(i,e){if(i&1){let t=w();r(0,"div",49)(1,"div",50),h("mouseenter",function(o){b(t);let c=m(2);return _(c.onCardHover(o,!0))})("mouseleave",function(o){b(t);let c=m(2);return _(c.onCardHover(o,!1))}),p(2,"img",51),r(3,"div",52)(4,"h6",53),s(5),a()()()()}if(i&2){let t=e.$implicit;l(),d("routerLink",Ue(4,bt,t.id)),l(),d("src",t.image,F)("alt",t.name),l(3),M(t.name)}}function It(i,e){if(i&1&&(r(0,"div",47),u(1,kt,6,6,"div",48),a()),i&2){let t=m();l(),d("ngForOf",t.topPlaces)}}function St(i,e){i&1&&(r(0,"div",35)(1,"div",54),p(2,"i",44),r(3,"h4",45),s(4,"No featured destinations available"),a(),r(5,"p",45),s(6,"Check back later for amazing travel destinations from our community"),a(),r(7,"button",55),p(8,"i",56),s(9,"Explore All Trips "),a()()())}var Pe=class i{constructor(e,t,n,o){this.authService=e;this.router=t;this.route=n;this.tripProxy=o}isAuthenticated=!1;currentUser=null;searchQuery="";subscriptions=[];allPublicPlaces=[];isLoadingMapData=!1;mapError="";googleMapsApiKey=xe.googleMapsApiKey;topPlaces=[];isLoadingTopPlaces=!1;topPlacesError="";ngOnInit(){this.authService.checkAuthStatus().subscribe();let e=this.authService.isAuthenticated$.subscribe(n=>this.isAuthenticated=n),t=this.authService.currentUser$.subscribe(n=>this.currentUser=n);this.subscriptions.push(e,t),this.route.queryParams.subscribe(n=>{n.focus==="search"&&setTimeout(()=>{let o=document.querySelector('input[placeholder*="Search"]');o&&o.focus()},100)}),this.loadPublicPlacesForMap(),this.loadTopPlaces()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loginWithGoogle(){this.authService.loginWithGoogle()}onSearch(){this.searchQuery.trim()&&(console.log("Searching for:",this.searchQuery),this.router.navigate(["/trips"],{queryParams:{search:this.searchQuery.trim()}}))}onSearchKeyPress(e){e.key==="Enter"&&(e.preventDefault(),this.onSearch())}loadPublicPlacesForMap(){this.isLoadingMapData=!0,this.mapError="",this.tripProxy.getListsIndex().subscribe({next:e=>{console.log("Loaded public trips for map:",e),this.extractPlacesFromTrips(e)},error:e=>{console.error("Error loading public trips for map:",e),this.mapError="Failed to load map data",this.isLoadingMapData=!1}})}extractPlacesFromTrips(e){let t=[],n=0,o=e.filter(c=>c.tripId).length;if(o===0){this.allPublicPlaces=t,this.isLoadingMapData=!1;return}e.forEach(c=>{c.tripId&&this.tripProxy.getItems(c.tripId).subscribe({next:g=>{g&&g.locations&&g.locations.forEach(f=>{if(f.address&&this.hasValidCoordinates(f.address)){let v={id:f._id||`${c.tripId}-${f.name}`,name:f.name||"Unnamed Location",notes:f.notes||f.description||"",pictures:f.photos||f.pictures||[],location:f.address?.formattedAddress||f.address?.address||"",address:f.address,startDate:f.startDate,endDate:f.endDate,description:f.description,cost:f.cost};t.push(v)}}),n++,n===o&&(this.allPublicPlaces=t,console.log("Extracted places for map:",this.allPublicPlaces.length),this.isLoadingMapData=!1)},error:g=>{console.error(`Error loading locations for trip ${c.tripId}:`,g),n++,n===o&&(this.allPublicPlaces=t,console.log("Extracted places for map:",this.allPublicPlaces.length),this.isLoadingMapData=!1)}})})}hasValidCoordinates(e){if(!e)return!1;if(e.coordinates){let{latitude:t,longitude:n}=e.coordinates;return typeof t=="number"&&typeof n=="number"&&t!==0&&n!==0}return e.lat&&e.lng?typeof e.lat=="number"&&typeof e.lng=="number"&&e.lat!==0&&e.lng!==0:!1}loadTopPlaces(){this.isLoadingTopPlaces=!0,this.topPlacesError="",this.tripProxy.getListsIndex().subscribe({next:e=>{if(console.log("Loaded trips for top places:",e),e&&e.length>0){let t=e.slice(0,3);this.processTopPlaces(t)}else this.topPlaces=[],this.isLoadingTopPlaces=!1},error:e=>{console.error("Error loading trips for top places:",e),this.topPlacesError="Failed to load top places",this.isLoadingTopPlaces=!1}})}processTopPlaces(e){return I(this,null,function*(){let t=[];for(let n of e)try{let o=yield this.getRepresentativeImageFromTrip(n.tripId||n._id||n.id),c=yield this.getLocationFromTrip(n),g={id:n.tripId||n._id||n.id||"",name:n.name||"Unnamed Trip",location:c,image:o,description:n.description||""};t.push(g)}catch(o){console.error("Error processing trip for top places:",o)}this.topPlaces=t,this.isLoadingTopPlaces=!1})}getRepresentativeImageFromTrip(e){return I(this,null,function*(){let t=["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=400&q=80","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400&q=80"];try{let o=yield this.tripProxy.getItems(e).toPromise();if(o&&o.locations&&o.locations.length>0)for(let c of o.locations){if(c.photos&&c.photos.length>0)return c.photos[0];if(c.pictures&&c.pictures.length>0)return c.pictures[0]}}catch{console.log("Could not get image from trip locations, using fallback")}let n=Math.floor(Math.random()*t.length);return t[n]})}getLocationFromTrip(e){return I(this,null,function*(){try{let t=yield this.tripProxy.getItems(e.tripId||e._id||e.id).toPromise();if(t&&t.locations&&t.locations.length>0){let n=t.locations[0];if(n.address){if(n.address.country)return n.address.country;if(n.address.city)return n.address.city;if(n.address.formattedAddress){let o=n.address.formattedAddress.split(", ");return o[o.length-1]||"Unknown Location"}}return n.name||n.description||"Unknown Location"}}catch{console.log("Could not get location from trip, using fallback")}return e.description||e.location||"Unknown Location"})}onCardHover(e,t){let n=e.currentTarget;n&&(t?(n.style.transform="translateY(-3px)",n.style.boxShadow="0 4px 15px rgba(0,0,0,0.15)"):(n.style.transform="translateY(0)",n.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)"))}static \u0275fac=function(t){return new(t||i)(y(R),y(W),y(Y),y(G))};static \u0275cmp=T({type:i,selectors:[["app-welcomepage"]],decls:36,vars:12,consts:[["searchForm","ngForm"],[1,"content-wrapper"],[1,"hero-section","d-flex","align-items-center"],[1,"container","text-center"],[4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-md-8","col-lg-6"],[3,"ngSubmit"],[1,"input-group","mb-3"],["type","text","placeholder","Search by trip name","aria-label","Search for trips","name","searchQuery","required","",1,"form-control","form-control-lg","rounded-pill","py-3",3,"ngModelChange","keypress","ngModel"],["type","submit",1,"btn","search-btn","rounded-pill","ms-2",3,"disabled"],[1,"fas","fa-search"],[1,"text-white","small"],[1,"map-section","py-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"text-center","mb-4"],[1,"text-center","map-description"],["class","text-center py-5",4,"ngIf"],["class","alert alert-warning text-center","role","alert",4,"ngIf"],["class","map-container shadow","style","height: 500px; border-radius: 12px; overflow: hidden;",4,"ngIf"],[1,"top-travel-trackers","py-5"],[1,"mb-4"],["class","text-center py-4",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"text-white","mb-4"],[1,"text-white","lead","mb-4"],[1,"d-flex","justify-content-center","flex-wrap","gap-3","mb-4"],["routerLink","/your-trips",1,"btn","btn-primary","btn-lg"],[1,"fas","fa-suitcase","me-2"],["routerLink","/add-trips",1,"btn","btn-success","btn-lg"],[1,"fas","fa-plus","me-2"],[1,"auth-cta","mb-4"],[1,"text-white","small","mt-2"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],["role","alert",1,"alert","alert-warning","text-center"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"map-container","shadow",2,"height","500px","border-radius","12px","overflow","hidden"],[3,"places","apiKey","mapHeight"],[1,"map-container","shadow","d-flex","align-items-center","justify-content-center",2,"height","500px","border-radius","12px","background","#f8f9fa"],[1,"fas","fa-map-marked-alt","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"text-center","py-4"],[1,"row","justify-content-center"],["class","col-lg-3 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],[1,"card","travel-tracker-card","h-100","shadow-sm",2,"cursor","pointer","transition","all 0.2s ease-in-out","max-width","280px","margin","0 auto",3,"mouseenter","mouseleave","routerLink"],[1,"card-img-top",2,"height","160px","object-fit","cover","border-radius","0.375rem 0.375rem 0 0",3,"src","alt"],[1,"card-body","p-3"],[1,"card-title","mb-2","fw-bold","text-truncate"],[1,"bg-light","rounded","p-5"],["routerLink","/trips",1,"btn","btn-primary","mt-3"],[1,"fas","fa-compass","me-2"]],template:function(t,n){if(t&1){let o=w();p(0,"app-header"),r(1,"div",1)(2,"section",2)(3,"div",3),u(4,_t,12,1,"div",4)(5,vt,8,0,"div",4),r(6,"div",5)(7,"div",6)(8,"form",7,0),h("ngSubmit",function(){return b(o),_(n.onSearch())}),r(10,"div",8)(11,"input",9),pe("ngModelChange",function(g){return b(o),ce(n.searchQuery,g)||(n.searchQuery=g),_(g)}),h("keypress",function(g){return b(o),_(n.onSearchKeyPress(g))}),a(),r(12,"button",10),p(13,"i",11),a()()(),r(14,"p",12),s(15,"Search for trips shared by our community"),a()()()()(),r(16,"section",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h2",17),s(21,"Discover Amazing Places"),a(),r(22,"p",18),s(23,"Explore all the incredible destinations shared by our travel community"),a(),u(24,Ct,6,0,"div",19)(25,Pt,3,1,"div",20)(26,Mt,2,3,"div",21)(27,yt,8,0,"div",19),a()()()(),r(28,"section",22)(29,"div",14)(30,"h2",23),s(31,"Top Places"),a(),u(32,wt,6,0,"div",24)(33,Ot,3,1,"div",20)(34,It,2,1,"div",25)(35,St,10,0,"div",19),a()()()}t&2&&(l(4),d("ngIf",n.isAuthenticated&&n.currentUser),l(),d("ngIf",!n.isAuthenticated),l(6),le("ngModel",n.searchQuery),l(),d("disabled",!n.searchQuery.trim()),l(12),d("ngIf",n.isLoadingMapData),l(),d("ngIf",n.mapError&&!n.isLoadingMapData),l(),d("ngIf",!n.isLoadingMapData&&!n.mapError),l(),d("ngIf",!n.isLoadingMapData&&!n.mapError&&n.allPublicPlaces.length===0),l(5),d("ngIf",n.isLoadingTopPlaces),l(),d("ngIf",n.topPlacesError&&!n.isLoadingTopPlaces),l(),d("ngIf",!n.isLoadingTopPlaces&&!n.topPlacesError&&n.topPlaces.length>0),l(),d("ngIf",!n.isLoadingTopPlaces&&!n.topPlacesError&&n.topPlaces.length===0))},dependencies:[D,j,L,K,A,B,he,Ke,me,fe,Be,Ze,ue,Ge,Ce],styles:[`.content-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fffe,#f0f7f4);min-height:100vh;position:relative;overflow-x:hidden}.hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5ff2,#228b50f2,#4fb373f2);min-height:60vh;position:relative;overflow:hidden}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,90.7C672,85,768,107,864,128C960,149,1056,171,1152,165.3C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') repeat-x bottom;background-size:1440px 100px;animation:_ngcontent-%COMP%_wave 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_wave{0%,to{transform:translate(0)}50%{transform:translate(-720px)}}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2;padding:4rem 1rem}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:800;color:#fff;text-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.hero-section[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;color:#fffffff2;margin-bottom:2.5rem;text-shadow:0 2px 10px rgba(0,0,0,.2);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .2s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.hero-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;border:none;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden;text-transform:none;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .4s both}.hero-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.hero-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:before{left:100%}.hero-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);color:#2b9e5f;box-shadow:0 8px 25px #ffffff4d}.hero-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #fff6;color:#228b50}.hero-section[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3,#ffffff1a);color:#fff;border:2px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.hero-section[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background:#fff3;border-color:#ffffff80;box-shadow:0 12px 30px #0003}.hero-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .6s both}.hero-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0000001a;font-size:1.1rem;padding:1.2rem 2rem;transition:all .3s ease}.hero-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{background:#fff;box-shadow:0 0 0 .2rem #ffffff4d;transform:translateY(-2px)}.hero-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;font-weight:400}.search-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);color:#2b9e5f;border:none;padding:1.2rem 2rem;font-weight:600;box-shadow:0 8px 25px #ffffff4d}.search-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);color:#228b50;box-shadow:0 12px 30px #fff6}.auth-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .8s both}.auth-cta[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:1rem;color:#ffffffe6;text-shadow:0 2px 10px rgba(0,0,0,.2)}.map-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fffe,#f0f7f4);padding:6rem 0}.map-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2b9e5f;margin-bottom:1.5rem;position:relative}.map-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:80px;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50);border-radius:2px}.map-section[_ngcontent-%COMP%]   .map-description[_ngcontent-%COMP%]{font-size:1.2rem;color:#6c757d;font-weight:400;margin-bottom:3rem;max-width:600px;margin-left:auto;margin-right:auto}.map-container[_ngcontent-%COMP%]{position:relative;border-radius:24px;overflow:hidden;box-shadow:0 20px 60px #00000026;transition:all .4s ease}.map-container[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 30px 80px #0003}.map-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:cover;transition:transform .4s ease}.map-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.map-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#2b9e5fd9,#228b50d9);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem;opacity:0;transition:all .4s ease}.map-container[_ngcontent-%COMP%]:hover   .map-overlay[_ngcontent-%COMP%]{opacity:1}.map-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin-bottom:1.5rem;text-shadow:0 4px 20px rgba(0,0,0,.3)}.map-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .map-explore-btn[_ngcontent-%COMP%]{background:#fffffff2;color:#2b9e5f;border:none;border-radius:50px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;transition:all .3s ease}.map-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .map-explore-btn[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-3px);box-shadow:0 10px 25px #0003}.top-travel-trackers[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fffe);padding:6rem 0}.top-travel-trackers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2b9e5f;text-align:center;margin-bottom:3rem;position:relative}.top-travel-trackers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:80px;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50);border-radius:2px}.travel-tracker-row[_ngcontent-%COMP%]{display:flex;gap:2rem;overflow-x:auto;padding:1rem 0 2rem;scroll-behavior:smooth}.travel-tracker-row[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.travel-tracker-row[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.travel-tracker-row[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(90deg,#2b9e5f,#228b50);border-radius:4px}.travel-tracker-row[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(90deg,#228b50,#2b9e5f)}.travel-tracker-card[_ngcontent-%COMP%]{border:none;border-radius:24px;overflow:hidden;transition:all .4s cubic-bezier(.25,.46,.45,.94);background:#fff;box-shadow:0 8px 32px #0000001a;min-width:280px;flex-shrink:0;position:relative}.travel-tracker-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#2b9e5f1a,#228b501a);opacity:0;transition:opacity .3s ease;z-index:1;pointer-events:none}.travel-tracker-card[_ngcontent-%COMP%]:hover:before{opacity:1}.travel-tracker-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.02);box-shadow:0 20px 60px #0003}.travel-tracker-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:220px;object-fit:cover;transition:transform .4s ease}.travel-tracker-card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.1)}.travel-tracker-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem;position:relative;z-index:2}.travel-tracker-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#2b9e5f;margin-bottom:0;text-align:center}@media (max-width: 992px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8rem}.hero-section[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.2rem}.top-travel-trackers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .map-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.map-section[_ngcontent-%COMP%]   .map-description[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{min-height:50vh}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:3rem 1rem}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem}.hero-section[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.1rem}.hero-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.875rem 2rem;font-size:1rem}.d-flex.gap-3[_ngcontent-%COMP%]{flex-direction:column;gap:1rem!important}.map-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.map-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.travel-tracker-card[_ngcontent-%COMP%]{min-width:240px}}@media (max-width: 576px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.9rem}.hero-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:1rem;padding:1rem 1.5rem}.search-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem}.map-section[_ngcontent-%COMP%]{padding:4rem 0}.map-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.map-section[_ngcontent-%COMP%]   .map-description[_ngcontent-%COMP%]{font-size:1rem;padding:0 1rem}.top-travel-trackers[_ngcontent-%COMP%]{padding:4rem 0}.top-travel-trackers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.travel-tracker-card[_ngcontent-%COMP%]{min-width:220px}.travel-tracker-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:180px}}`]})};function Et(i,e){if(i&1){let t=w();r(0,"button",14),h("click",function(){b(t);let o=m();return _(o.clearSearch())}),p(1,"i",15),a()}}function Dt(i,e){i&1&&(r(0,"div",16)(1,"div",17)(2,"span",18),s(3,"Loading..."),a()(),r(4,"p",19),s(5,"Gathering your travel memories..."),a()())}function zt(i,e){if(i&1){let t=w();r(0,"div",20)(1,"div",21),p(2,"i",22),r(3,"div")(4,"h5",23),s(5,"Oops! Something went wrong"),a(),r(6,"p",24),s(7,"We couldn't load your trips right now. Please try again."),a(),r(8,"button",25),h("click",function(){b(t);let o=m();return _(o.fetchTrips())}),p(9,"i",26),s(10,"Try Again "),a()()()()}}function Lt(i,e){if(i&1){let t=w();r(0,"div",27),p(1,"i",28),r(2,"h3",29),s(3,"No Public Trips Yet"),a(),r(4,"p",30),s(5,"Be the first to share your adventure! Add a trip and inspire others to explore the world."),a(),r(6,"button",31),h("click",function(){b(t);let o=m();return _(o.goToAddTrip())}),p(7,"i",32),s(8),a()()}if(i&2){let t=m();l(6),z("btn-success",t.isAuthenticated)("btn-secondary",!t.isAuthenticated),d("disabled",!t.isAuthenticated)("title",t.isAuthenticated?"Share your first trip":"Please sign in to share trips"),l(2),O(" ",t.isAuthenticated?"Share Your First Trip":"Sign In to Share Trip"," ")}}function At(i,e){if(i&1&&(r(0,"p",43),p(1,"i",44),s(2),a()),i&2){let t=m().$implicit;l(2),O(" By ",t.userId==null?null:t.userId.name," ")}}function Rt(i,e){if(i&1){let t=w();r(0,"div",35)(1,"div",36),h("click",function(){let o=b(t).index,c=m(2);return _(c.viewTripDetail(o))}),r(2,"div",37),p(3,"img",38)(4,"div",39),a(),r(5,"div",40)(6,"h5",41),s(7),a(),u(8,At,3,1,"p",42),a()()()}if(i&2){let t=e.$implicit;l(3),d("src",t.image,F)("alt",t.name),l(4),M(t.name),l(),d("ngIf",t.userId==null?null:t.userId.name)}}function Ut(i,e){if(i&1&&(r(0,"div",33),u(1,Rt,9,4,"div",34),a()),i&2){let t=m();l(),d("ngForOf",t.trips)}}var Me=class i{constructor(e,t,n,o,c){this.router=e;this.route=t;this.tripProxy=n;this.http=o;this.authService=c}trips=[];allTrips=[];loading=!0;error=!1;totalAmountSpent=0;visitedCountries=new Set;searchQuery="";isSearching=!1;isAuthenticated=!1;currentUser=null;authSubscriptions=[];ngOnInit(){console.log("TripsComponent initialized!"),console.log("Current environment:",window.location.origin),console.log("Backend URL:",this.tripProxy);let e=this.authService.isAuthenticated$.subscribe(n=>{this.isAuthenticated=n,console.log("Authentication status updated in TripsComponent:",n)});this.authSubscriptions.push(e);let t=this.authService.currentUser$.subscribe(n=>{this.currentUser=n,console.log("Current user updated in TripsComponent:",n)});this.authSubscriptions.push(t),this.route.queryParams.subscribe(n=>{n.search&&(this.searchQuery=n.search,console.log("Search query from URL:",this.searchQuery))}),this.fetchTrips()}ngOnDestroy(){this.authSubscriptions.forEach(e=>e.unsubscribe())}fetchTrips(){this.loading=!0,this.error=!1,this.totalAmountSpent=0,this.visitedCountries.clear(),console.log("=== STARTING fetchTrips (PUBLIC ONLY) ==="),this.tripProxy.getListsIndex().subscribe({next:e=>{console.log("=== TripProxy SUCCESS (PUBLIC TRIPS) ==="),console.log("Public trips response received:",e),console.log("Result type:",typeof e),console.log("Result is array:",Array.isArray(e)),console.log("Result length:",e?e.length:"null/undefined"),this.processTripsData(e)},error:e=>{console.log("=== TripProxy ERROR ==="),console.error("Error fetching public trips:",e),console.error("Error details:",e.message||e.toString()),console.error("Error status:",e.status),console.error("Error statusText:",e.statusText),console.error("Full error object:",e),console.log("=== TRYING DIRECT HTTP FALLBACK ==="),this.http.get("https://traveltracker2025.azurewebsites.net/trip").subscribe({next:t=>{console.log("=== DIRECT HTTP SUCCESS (PUBLIC TRIPS) ==="),console.log("Direct HTTP call success:",t),this.processTripsData(t)},error:t=>{console.log("=== DIRECT HTTP ERROR ==="),console.error("Direct HTTP call also failed:",t),console.error("Direct error status:",t.status),console.error("Direct error statusText:",t.statusText),this.trips=[],this.loading=!1,this.error=!0}})}})}processTripsData(e){return I(this,null,function*(){if(e&&e.length>0){console.log("Processing trips data:",e);let t=yield Promise.all(e.map(n=>I(this,null,function*(){n.amount_spent&&!isNaN(parseFloat(n.amount_spent))&&(this.totalAmountSpent+=parseFloat(n.amount_spent)),n.country&&this.visitedCountries.add(n.country.toLowerCase());let o=yield this.getRandomImageFromTrip(n.tripId||n._id||n.id);return{id:n._id||n.tripId||n.id||"",tripId:n.tripId||n._id||n.id||"",name:n.name||"Unnamed Trip",location:n.location||n.description||"Unknown Location",image:o||"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",amount_spent:n.amount_spent||0,country:n.country||"",userId:n.userId}})));this.allTrips=t,this.trips=t,this.searchQuery&&this.performSearch(),console.log("Successfully processed trips:",this.trips),console.log("Total amount spent:",this.totalAmountSpent),console.log("Total countries visited:",this.visitedCountries.size)}else console.log("No trips found in response."),this.allTrips=[],this.trips=[],this.error=!0;this.loading=!1})}onSearchInput(){this.searchQuery.trim()===""&&this.clearSearch()}performSearch(){if(!this.searchQuery||this.searchQuery.trim()===""){this.trips=this.allTrips;return}this.isSearching=!0;let e=this.searchQuery.toLowerCase().trim();this.tripProxy.searchPublicTrips(e).subscribe({next:t=>{console.log("Backend search result:",t),t&&t.length>0?this.processSearchResults(t):this.performClientSideSearch(e),this.isSearching=!1},error:t=>{console.error("Backend search error:",t),this.performClientSideSearch(e),this.isSearching=!1}})}performClientSideSearch(e){console.log("Performing client-side search for:",e),this.trips=this.allTrips.filter(t=>t.name.toLowerCase().includes(e)||t.location.toLowerCase().includes(e)),console.log("Filtered trips:",this.trips.length)}processSearchResults(e){return I(this,null,function*(){if(e&&e.length>0){let t=yield Promise.all(e.map(n=>I(this,null,function*(){let o=yield this.getRandomImageFromTrip(n.tripId||n._id||n.id);return{id:n._id||n.tripId||n.id||"",tripId:n.tripId||n._id||n.id||"",name:n.name||"Unnamed Trip",location:n.location||n.description||"Unknown Location",image:o||"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",amount_spent:n.amount_spent||0,country:n.country||"",userId:n.userId}})));this.trips=t,console.log("Search results processed:",this.trips.length)}else this.trips=[]})}clearSearch(){this.searchQuery="",this.trips=this.allTrips,this.isSearching=!1,this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0})}viewTripDetail(e){if(this.trips&&this.trips.length>e){let t=this.trips[e],n=t.tripId||t.id;console.log(`Navigating to trip detail for index ${e}`),console.log("Trip data:",t),console.log(`Using navigation ID: ${n}`),this.router.navigate(["/tripdetail",n],{queryParams:{source:"public"}})}}goToAddTrip(){if(!this.isAuthenticated){console.log("User not authenticated, redirecting to login"),alert("Please sign in to add a new trip.");return}console.log("Navigating to add trip page"),this.router.navigate(["/add-trips"])}goToYourTrips(){this.router.navigate(["/your-trips"])}testApiDirect(){console.log("Testing direct API call..."),this.http.get("https://traveltracker2025.azurewebsites.net/trip").subscribe({next:e=>{console.log("Direct API test SUCCESS:",e),alert("Direct API test successful! Got "+e.length+" trips")},error:e=>{console.error("Direct API test FAILED:",e),alert("Direct API test failed: "+e.message)}})}getRandomImageFromTrip(e){return I(this,null,function*(){try{if(console.log(`Getting random image for trip: ${e}`),!e)return console.log("No tripId provided, returning null"),null;let t=yield this.tripProxy.getItems(e).toPromise();if(!t||!t.locations||t.locations.length===0)return console.log(`No locations found for trip ${e}`),null;console.log(`Found ${t.locations.length} locations for trip ${e}`);let n=[];if(t.locations.forEach((g,f)=>{g.photos&&Array.isArray(g.photos)&&g.photos.length>0?(console.log(`Location ${f} (${g.name}) has ${g.photos.length} photos`),n.push(...g.photos)):console.log(`Location ${f} (${g.name}) has no photos`)}),n.length===0)return console.log(`No photos found in any location for trip ${e}`),null;let o=Math.floor(Math.random()*n.length),c=n[o];return console.log(`Selected random photo ${o+1} of ${n.length} for trip ${e}`),c}catch(t){return console.error(`Error getting random image for trip ${e}:`,t),null}})}static \u0275fac=function(t){return new(t||i)(y(W),y(Y),y(G),y(de),y(R))};static \u0275cmp=T({type:i,selectors:[["app-trips"]],decls:17,vars:6,consts:[[1,"trips-container"],[1,"container-fluid"],[1,"trips-header"],[1,"trips-title"],[1,"trips-subtitle"],[1,"search-container"],[1,"search-input-wrapper"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Search trips by name...",1,"form-control","search-input",3,"ngModelChange","input","keyup.enter","ngModel"],["class","btn btn-clear","title","Clear search",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 g-4 trips-grid",4,"ngIf"],["title","Clear search",1,"btn","btn-clear",3,"click"],[1,"fas","fa-times"],[1,"loading-container"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"loading-text"],[1,"alert","alert-warning"],[1,"d-flex","align-items-center"],[1,"fas","fa-exclamation-triangle","me-3",2,"font-size","1.5rem"],[1,"mb-1"],[1,"mb-2"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-redo","me-2"],[1,"empty-state"],[1,"fas","fa-suitcase-rolling","empty-state-icon"],[1,"empty-state-title"],[1,"empty-state-text"],[1,"btn","add-trip-btn","mt-3",3,"click","disabled","title"],[1,"fas","fa-plus","me-2"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-lg-3","row-cols-xl-4","g-4","trips-grid"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","travel-tracker-card","h-100",3,"click"],[1,"card-img-container"],[1,"card-img-top",3,"src","alt"],[1,"card-img-overlay"],[1,"card-body","trip-card-body"],[1,"trip-title"],["class","trip-author",4,"ngIf"],[1,"trip-author"],[1,"fas","fa-user","author-icon"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),s(5,"Community Travel Adventures"),a(),r(6,"p",4),s(7,"Discover amazing trips shared by our community"),a()(),r(8,"div",5)(9,"div",6),p(10,"i",7),r(11,"input",8),pe("ngModelChange",function(c){return ce(n.searchQuery,c)||(n.searchQuery=c),c}),h("input",function(){return n.onSearchInput()})("keyup.enter",function(){return n.performSearch()}),a(),u(12,Et,2,0,"button",9),a()()(),u(13,Dt,6,0,"div",10)(14,zt,11,0,"div",11)(15,Lt,9,7,"div",12)(16,Ut,2,1,"div",13),a()()),t&2&&(l(11),le("ngModel",n.searchQuery),l(),d("ngIf",n.searchQuery),l(),d("ngIf",n.loading),l(),d("ngIf",n.error),l(),d("ngIf",!n.loading&&!n.error&&n.trips.length===0),l(),d("ngIf",!n.loading&&n.trips.length>0))},dependencies:[D,j,L,ge,he,me,fe,ue],styles:['.trips-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fffe,#f0f7f4);min-height:100vh;padding:2rem 0}.trips-header[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:3rem;padding:0 1rem}.header-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.trips-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2b9e5f;margin-bottom:.5rem;text-shadow:0 2px 4px rgba(43,158,95,.1)}.trips-subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem;font-weight:400;margin-bottom:2rem}.add-trip-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);border:none;border-radius:50px;padding:1rem 2rem;font-size:1.1rem;font-weight:600;box-shadow:0 4px 20px #2b9e5f40;transition:all .3s ease;position:relative;overflow:hidden}.add-trip-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #2b9e5f59;background:linear-gradient(135deg,#228b50,#2b9e5f)}.add-trip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.add-trip-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.add-trip-btn[_ngcontent-%COMP%]:hover:before{left:100%}.search-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:1rem}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;max-width:500px;margin:0 auto}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d;z-index:1}.search-input[_ngcontent-%COMP%]{padding:.875rem 1rem .875rem 3rem;border:2px solid #e9ecef;border-radius:50px;font-size:1rem;width:100%;transition:all .3s ease;background:#fff;box-shadow:0 2px 10px #0000001a}.search-input[_ngcontent-%COMP%]:focus{border-color:#2b9e5f;box-shadow:0 0 0 .2rem #2b9e5f40;outline:none}.btn-clear[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#6c757d;padding:.25rem;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-clear[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#495057}.stats-bar[_ngcontent-%COMP%]{margin-bottom:4rem;padding:0 1rem}.stats-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8f8f5e6);border:none;border-radius:20px;padding:2rem 1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0000001a;transition:all .3s ease;position:relative;overflow:hidden}.stats-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50,#4fb373);border-radius:20px 20px 0 0}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 16px 40px #00000026}.stats-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#2b9e5f;margin-bottom:1rem;opacity:.8}.stats-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.stats-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#2b9e5f;line-height:1;text-shadow:0 2px 4px rgba(43,158,95,.1)}.section-header[_ngcontent-%COMP%]{padding:0 1rem;margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2b9e5f;margin-bottom:.5rem;position:relative;display:inline-block}.section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:60px;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50);border-radius:2px}.trips-grid[_ngcontent-%COMP%]{padding:0 1rem}.travel-tracker-card[_ngcontent-%COMP%]{border:none;border-radius:24px;overflow:hidden;transition:all .4s cubic-bezier(.25,.46,.45,.94);background:#fff;cursor:pointer;position:relative;box-shadow:0 4px 20px #00000014}.travel-tracker-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.02);box-shadow:0 20px 40px #00000026}.travel-tracker-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#2b9e5f1a,#228b501a);opacity:0;transition:opacity .3s ease;z-index:1;pointer-events:none}.travel-tracker-card[_ngcontent-%COMP%]:hover:before{opacity:1}.card-img-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:220px}.travel-tracker-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:transform .4s ease}.travel-tracker-card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.1)}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,.3) 100%);opacity:0;transition:opacity .3s ease}.travel-tracker-card[_ngcontent-%COMP%]:hover   .card-img-overlay[_ngcontent-%COMP%]{opacity:1}.trip-card-body[_ngcontent-%COMP%]{padding:1.5rem;position:relative;z-index:2}.trip-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#2b9e5f;margin-bottom:.5rem;line-height:1.3}.trip-location[_ngcontent-%COMP%]{color:#6c757d;font-size:.95rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.location-icon[_ngcontent-%COMP%]{color:#2b9e5f;opacity:.7}.trip-author[_ngcontent-%COMP%]{color:#6c757d;font-size:.85rem;font-weight:400;display:flex;align-items:center;gap:.5rem;margin-top:.5rem;margin-bottom:0}.author-icon[_ngcontent-%COMP%]{color:#2b9e5f;opacity:.6}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3em;color:#2b9e5f}.loading-text[_ngcontent-%COMP%]{margin-top:1rem;color:#6c757d;font-size:1.1rem}.alert[_ngcontent-%COMP%]{border:none;border-radius:16px;padding:2rem;margin:2rem 1rem;font-size:1.1rem}.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);color:#856404}.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1ecf1,#bee5eb);color:#0c5460}.alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:25px;padding:.75rem 1.5rem;font-weight:600}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#2b9e5f;opacity:.3;margin-bottom:1rem}.empty-state-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2b9e5f;margin-bottom:1rem}.empty-state-text[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem}@media (max-width: 1200px){.trips-title[_ngcontent-%COMP%], .stats-value[_ngcontent-%COMP%]{font-size:2.2rem}}@media (max-width: 992px){.trips-header[_ngcontent-%COMP%]{margin-top:4rem}.trips-title[_ngcontent-%COMP%]{font-size:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.8rem}.stats-card[_ngcontent-%COMP%]{padding:1.5rem 1rem}.stats-value[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 768px){.trips-container[_ngcontent-%COMP%]{padding:1rem 0}.trips-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}.add-trip-btn[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.stats-bar[_ngcontent-%COMP%]{margin-bottom:3rem}.card-img-container[_ngcontent-%COMP%]{height:200px}}@media (max-width: 576px){.trips-title[_ngcontent-%COMP%]{font-size:1.8rem}.stats-card[_ngcontent-%COMP%]{padding:1.25rem 1rem}.stats-value[_ngcontent-%COMP%]{font-size:1.8rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.card-img-container[_ngcontent-%COMP%]{height:180px}.trip-card-body[_ngcontent-%COMP%]{padding:1.25rem}}']})};var Nt=["mapElement"];function Ht(i,e){if(i&1&&(r(0,"div",5)(1,"div",6),P(),r(2,"svg",7),p(3,"path",8),a(),S(),r(4,"p"),s(5),a(),r(6,"small"),s(7,"Falling back to static map view"),a()()()),i&2){let t=m();l(5),M(t.errorMessage)}}function Vt(i,e){i&1&&(r(0,"div",9),p(1,"div",10),r(2,"p"),s(3,"Loading interactive map..."),a()())}var ye=class i{mapElement;places=[];tripName="";mapHeight=400;apiKey="";set selectedPlaceIndex(e){this._selectedPlaceIndex!==e&&(this._selectedPlaceIndex=e,this.highlightSelectedPlace())}get selectedPlaceIndex(){return this._selectedPlaceIndex}_selectedPlaceIndex=0;map;markers=[];infoWindows=[];loader;activePlace=0;isLoading=!0;errorMessage="";ngOnInit(){this.loader=new Z({apiKey:this.apiKey||"YOUR_API_KEY_HERE",version:"weekly",libraries:["places","geometry"]})}ngAfterViewInit(){this.initializeMap()}ngOnDestroy(){this.clearMarkers()}initializeMap(){return I(this,null,function*(){try{this.isLoading=!0,this.errorMessage="",yield this.loader.load();let e=this.getPlacesWithCoordinates();e.length===0?this.initializeDefaultMap():this.initializeMapWithPlaces(e),this.isLoading=!1}catch(e){console.error("Error loading Google Maps:",e),this.errorMessage="Unable to load interactive map. Please check your internet connection.",this.isLoading=!1}})}getPlacesWithCoordinates(){return this.places.filter(e=>{if(e.address&&this.hasCoordinates(e.address))return!0;if(e.location&&e.location.includes(",")){let t=e.location.split(",").map(n=>parseFloat(n.trim()));if(t.length===2&&!isNaN(t[0])&&!isNaN(t[1]))return!0}return!1}).map(e=>({place:e,coordinates:e.address?this.getCoordinates(e.address):this.parseLocationString(e.location)}))}parseLocationString(e){if(!e||!e.includes(","))return{lat:0,lng:0};let t=e.split(",").map(n=>parseFloat(n.trim()));return t.length===2&&!isNaN(t[0])&&!isNaN(t[1])?{lat:t[0],lng:t[1]}:{lat:0,lng:0}}hasCoordinates(e){return typeof e=="string"?!1:E.hasCoordinates(e)}getCoordinates(e){if(typeof e=="string")return{lat:0,lng:0};let t=E.getCoordinates(e);return{lat:t?.latitude||0,lng:t?.longitude||0}}initializeDefaultMap(){let e={lat:20,lng:0},t=2;this.map=new google.maps.Map(this.mapElement.nativeElement,{center:e,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]});let n=new google.maps.InfoWindow({content:`
        <div style="text-align: center; padding: 10px;">
          <h4>\u{1F4CD} ${this.tripName}</h4>
          <p>Add locations with addresses to see them on the map!</p>
        </div>
      `});n.setPosition(e),n.open(this.map)}initializeMapWithPlaces(e){let t=new google.maps.LatLngBounds;if(e.forEach(({coordinates:n})=>{t.extend(new google.maps.LatLng(n.lat,n.lng))}),this.map=new google.maps.Map(this.mapElement.nativeElement,{mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},fullscreenControl:!0,streetViewControl:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"on"}]}]}),e.forEach(({place:n,coordinates:o},c)=>{this.createMarker(n,o,c+1)}),this.activePlace=0,e.length===1)this.map.setCenter(e[0].coordinates),this.map.setZoom(14);else if(e.length>1){this.map.fitBounds(t);let n={top:60,right:60,bottom:60,left:60};this.map.fitBounds(t,n),google.maps.event.addListenerOnce(this.map,"idle",()=>{let o=this.map.getZoom();o&&o>15&&this.map.setZoom(15),o&&o<3&&e.length<10&&this.map.setZoom(3)})}this.addTripInfoWindow()}createMarker(e,t,n){let o=["#dc3545","#198754","#0d6efd","#6f42c1","#fd7e14","#20c997","#0dcaf0","#6610f2"],c=o[n%o.length],g=new google.maps.Marker({position:t,map:this.map,title:e.name,animation:google.maps.Animation.DROP,label:{text:n.toString(),color:"white",fontWeight:"bold"},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
          <svg width="32" height="40" viewBox="0 0 32 40" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 0C7.2 0 0 7.2 0 16c0 8.8 16 24 16 24s16-15.2 16-24C32 7.2 24.8 0 16 0z" fill="${c}"/>
            <circle cx="16" cy="16" r="8" fill="white"/>
          </svg>
        `),scaledSize:new google.maps.Size(32,40),anchor:new google.maps.Point(16,40)},zIndex:1e3-n}),f=this.createMarkerInfoContent(e,n),v=new google.maps.InfoWindow({content:f});g.addListener("click",()=>{this.closeAllInfoWindows(),v.open(this.map,g),this.infoWindows.push(v)}),this.markers.push(g)}createMarkerInfoContent(e,t){let n=this.getDisplayAddress(e),o=e.pictures&&e.pictures.length>0?e.pictures[0]:null,c=["#dc3545","#198754","#0d6efd","#6f42c1","#fd7e14","#20c997","#0dcaf0","#6610f2"],g=c[t%c.length],f=e.startDate?new Date(e.startDate).toLocaleDateString():null,v=e.endDate?new Date(e.endDate).toLocaleDateString():null;return`
      <div style="max-width: 320px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <span style="background: ${g}; color: white; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; margin-right: 8px;">
            ${t}
          </span>
          <h4 style="margin: 0; font-size: 18px; font-weight: 600; color: #333;">${e.name}</h4>
        </div>
        
        ${o?`
          <div style="position: relative; overflow: hidden; border-radius: 8px; margin: 10px 0;">
            <img src="${o}" 
                style="width: 100%; height: 140px; object-fit: cover;"
                onerror="this.style.display='none'" />
            ${e.pictures&&e.pictures.length>1?`<div style="position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.6); color: white; font-size: 12px; padding: 4px 8px; border-radius: 12px;">
                +${e.pictures.length-1} more photos
              </div>`:""}
          </div>
        `:""}
        
        <div style="margin: 12px 0; padding: 8px; background: #f8f9fa; border-radius: 6px; border-left: 4px solid ${g};">
          <p style="margin: 0; font-size: 13px; color: #495057; line-height: 1.5;">
            \u{1F4CD} ${n}
          </p>
        </div>
        
        ${f||v?`
          <div style="display: flex; margin: 8px 0; font-size: 13px; color: #495057;">
            <svg width="16" height="16" viewBox="0 0 24 24" style="margin-right: 6px;">
              <path fill="currentColor" d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zM5 7V5h14v2H5zm2 4h10v2H7v-2zm0 4h7v2H7v-2z"/>
            </svg>
            <div>
              ${f?`<div>Start: ${f}</div>`:""}
              ${v?`<div>End: ${v}</div>`:""}
            </div>
          </div>
        `:""}
        
        ${e.notes?`
          <div style="margin: 12px 0;">
            <div style="font-size: 14px; font-weight: 500; color: #343a40; margin-bottom: 4px;">Notes</div>
            <p style="margin: 0; font-size: 13px; color: #495057; line-height: 1.5; max-height: 80px; overflow: hidden;">
              ${e.notes.length>150?e.notes.substring(0,150)+"...":e.notes}
            </p>
          </div>
        `:""}
        
        ${e.cost?`
          <div style="margin: 12px 0 4px; display: flex; align-items: center; justify-content: flex-end;">
            <span style="font-size: 14px; font-weight: 600; color: #198754; background: #e9f7ef; padding: 4px 10px; border-radius: 16px;">
              \u{1F4B0} $${e.cost.toLocaleString()}
            </span>
          </div>
        `:""}
      </div>
    `}getDisplayAddress(e){return e.address?typeof e.address=="string"?e.address:E.getDisplayAddress(e.address):e.location||"No address available"}addTripInfoWindow(){let e=document.createElement("div");e.style.backgroundColor="white",e.style.border="2px solid #fff",e.style.borderRadius="8px",e.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",e.style.cursor="pointer",e.style.marginBottom="22px",e.style.textAlign="center",e.title="Trip Summary";let t=document.createElement("div");t.style.color="rgb(25,25,25)",t.style.fontFamily="Roboto,Arial,sans-serif",t.style.fontSize="14px",t.style.lineHeight="40px",t.style.paddingLeft="5px",t.style.paddingRight="5px",t.innerHTML=`\u{1F4CD} ${this.tripName}`,e.appendChild(t),e.addEventListener("click",()=>{let n=`
        <div style="text-align: center; padding: 16px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
          <h3 style="margin: 0 0 12px 0; color: #333;">\u{1F5FA}\uFE0F ${this.tripName}</h3>
          <p style="margin: 8px 0; color: #666;">
            <strong>${this.places.length}</strong> location${this.places.length>1?"s":""} on this trip
          </p>
          <div style="margin-top: 12px; font-size: 13px; color: #555;">
            Click on any marker to see location details
          </div>
        </div>
      `,o=new google.maps.InfoWindow({content:n});o.setPosition(this.map.getCenter()),o.open(this.map)}),this.map.controls[google.maps.ControlPosition.TOP_CENTER].push(e)}closeAllInfoWindows(){for(let e of this.infoWindows)e.close()}highlightSelectedPlace(){if(!this.map||!this.markers.length||this._selectedPlaceIndex<0)return;let e=this.getPlacesWithCoordinates();if(e.length&&this._selectedPlaceIndex<e.length){this.closeAllInfoWindows();let t=this.markers[this._selectedPlaceIndex];if(t){this.map.panTo(t.getPosition());let n=this.places[this._selectedPlaceIndex],o=this.createMarkerInfoContent(n,this._selectedPlaceIndex+1),c=new google.maps.InfoWindow({content:o});this.infoWindows.push(c),c.open(this.map,t),t.setAnimation(google.maps.Animation.BOUNCE),setTimeout(()=>{t.setAnimation(null)},1400)}}}clearMarkers(){this.markers.forEach(e=>{e.setMap(null)}),this.markers=[],this.closeAllInfoWindows(),this.infoWindows=[]}refreshMap(){this.map&&(this.clearMarkers(),this.initializeMap())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["app-interactive-map"]],viewQuery:function(t,n){if(t&1&&re(Nt,5),t&2){let o;ae(o=se())&&(n.mapElement=o.first)}},inputs:{places:"places",tripName:"tripName",mapHeight:"mapHeight",apiKey:"apiKey",selectedPlaceIndex:"selectedPlaceIndex"},decls:5,vars:4,consts:[["mapElement",""],[1,"interactive-map-container"],[1,"map-container"],["class","map-error",4,"ngIf"],["class","map-loading",4,"ngIf"],[1,"map-error"],[1,"error-content"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z","fill","#ff6b6b"],[1,"map-loading"],[1,"loading-spinner"]],template:function(t,n){t&1&&(r(0,"div",1),p(1,"div",2,0),u(3,Ht,8,1,"div",3)(4,Vt,4,0,"div",4),a()),t&2&&(l(),U("height",n.mapHeight,"px"),l(2),d("ngIf",n.errorMessage),l(),d("ngIf",n.isLoading))},dependencies:[D,L],styles:[".interactive-map-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fff8f2);border-radius:20px;box-shadow:0 8px 32px #2b9e5f26;overflow:hidden;border:2px solid rgba(43,158,95,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative}.map-container[_ngcontent-%COMP%]{width:100%;min-height:400px;position:relative;border-radius:20px;overflow:hidden}.map-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;background:linear-gradient(135deg,#f8fffe,#f0f7f4);color:#2b9e5f;font-weight:500}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid rgba(43,158,95,.1);border-left-color:#2ea564;border-top-color:#2b9e5f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px;box-shadow:0 4px 12px #2b9e5f33}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.map-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:80px 20px;background:linear-gradient(135deg,#fff5f5,#ffeaea);border:2px solid #fed7d7;margin:20px;border-radius:16px;box-shadow:0 4px 16px #dc35451a}.error-content[_ngcontent-%COMP%]{text-align:center;color:#c53030}.error-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;filter:drop-shadow(0 2px 4px rgba(220,53,69,.2))}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-weight:600;font-size:1.1rem}.error-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#778395;font-size:.9rem;font-weight:500}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{min-height:300px}}"]})};function $t(i,e){i&1&&(r(0,"div",15)(1,"div",16)(2,"span",17),s(3,"Loading..."),a()(),r(4,"p",18),s(5,"Loading trip details..."),a()())}function Ft(i,e){i&1&&(r(0,"div",19)(1,"p"),s(2,"Failed to load trip details from server."),a()())}function jt(i,e){if(i&1&&(r(0,"h1",20),s(1),a()),i&2){let t=m();l(),M(t.trip.name)}}function Yt(i,e){i&1&&(P(),r(0,"svg",25),p(1,"path",26)(2,"path",27),a())}function Wt(i,e){i&1&&(P(),r(0,"svg",25),p(1,"path",28),a())}function Bt(i,e){i&1&&(r(0,"span"),s(1,"Editable"),a())}function Gt(i,e){i&1&&(r(0,"span"),s(1,"View Only"),a())}function Kt(i,e){if(i&1&&(r(0,"div",21)(1,"div",22),u(2,Yt,3,0,"svg",23)(3,Wt,2,0,"svg",23)(4,Bt,2,0,"span",24)(5,Gt,2,0,"span",24),a()()),i&2){let t=m();l(),z("read-only",!t.canEdit)("editable",t.canEdit),l(),d("ngIf",t.canEdit),l(),d("ngIf",!t.canEdit),l(),d("ngIf",t.canEdit),l(),d("ngIf",!t.canEdit)}}function Zt(i,e){if(i&1&&(r(0,"div",29)(1,"div",30)(2,"div",31),P(),r(3,"svg",32),p(4,"path",33)(5,"path",34),a()(),S(),r(6,"div",35)(7,"span",36),s(8,"Start Date"),a(),r(9,"span",37),s(10),H(11,"date"),a()()(),r(12,"div",30)(13,"div",31),P(),r(14,"svg",32),p(15,"path",33)(16,"path",38),a()(),S(),r(17,"div",35)(18,"span",36),s(19,"End Dates"),a(),r(20,"span",37),s(21),H(22,"date"),a()()(),r(23,"div",30)(24,"div",31),P(),r(25,"svg",32),p(26,"circle",39)(27,"path",40),a()(),S(),r(28,"div",35)(29,"span",36),s(30,"Duration"),a(),r(31,"span",37),s(32),a()()(),r(33,"div",30)(34,"div",31),P(),r(35,"svg",32),p(36,"path",41)(37,"circle",42),a()(),S(),r(38,"div",35)(39,"span",36),s(40,"Budget Spent"),a(),r(41,"span",37),s(42),H(43,"number"),a()()()()),i&2){let t=m();l(10),M(V(11,4,t.getCalculatedStartDate(),"mediumDate")),l(11),M(V(22,7,t.getCalculatedEndDate(),"mediumDate")),l(11),O("",t.calculateDurationFromPlaces()," days"),l(10),O("$",V(43,10,t.getCalculatedTotalBudget(),"1.0-0"),"")}}function Qt(i,e){i&1&&(r(0,"div",43)(1,"p"),s(2,"No places found for this trip. Add a new place to get started!"),a()())}function qt(i,e){if(i&1&&(r(0,"span"),s(1),H(2,"date"),a()),i&2){let t=m(2).$implicit;l(),M(V(2,1,t.startDate,"shortDate"))}}function Jt(i,e){if(i&1&&(r(0,"span"),s(1),H(2,"date"),a()),i&2){let t=m(2).$implicit;l(),O(" - ",V(2,1,t.endDate,"shortDate"),"")}}function Xt(i,e){if(i&1&&(r(0,"div",56),u(1,qt,3,4,"span",24)(2,Jt,3,4,"span",24),a()),i&2){let t=m().$implicit;l(),d("ngIf",t.startDate),l(),d("ngIf",t.endDate)}}function en(i,e){if(i&1&&(r(0,"div",57)(1,"span",58),s(2,"Cost:"),a(),r(3,"span",59),s(4),H(5,"number"),a()()),i&2){let t=m().$implicit;l(4),O("$",V(5,1,t.cost,"1.0-0"),"")}}function tn(i,e){if(i&1){let t=w();r(0,"div",51),h("click",function(){let o=b(t).index,c=m(2);return _(c.selectPlace(o))}),r(1,"div",52),s(2),a(),u(3,Xt,3,2,"div",53)(4,en,6,4,"div",54),r(5,"div",55),s(6),a()()}if(i&2){let t=e.$implicit,n=e.index,o=m(2);z("selected",n===o.selectedPlaceIndex),l(2),M(t.name),l(),d("ngIf",t.startDate||t.endDate),l(),d("ngIf",t.cost),l(2),Re(" ",t.pictures.length," photo",t.pictures.length>1?"s":""," ")}}function nn(i,e){if(i&1){let t=w();r(0,"span",62),h("click",function(){let o=b(t).index,c=m(3);return _(c.selectPlace(o))}),a()}if(i&2){let t=e.index,n=m(3);z("active-dot",t===n.selectedPlaceIndex)}}function on(i,e){if(i&1&&(r(0,"div",60),u(1,nn,1,2,"span",61),a()),i&2){let t=m(2);l(),d("ngForOf",t.trip.places)}}function rn(i,e){if(i&1&&(r(0,"div",44)(1,"div",45)(2,"h3",46),s(3,"\u{1F4CD} Trip Destinations"),a(),r(4,"p",47),s(5,"Explore your journey, one place at a time"),a()(),r(6,"div",48),u(7,tn,7,7,"div",49),a(),u(8,on,2,1,"div",50),a()),i&2){let t=m();l(7),d("ngForOf",t.trip.places),l(),d("ngIf",t.trip.places.length>1)}}function an(i,e){if(i&1){let t=w();r(0,"div",70)(1,"button",71),h("click",function(){b(t);let o=m(2);return _(o.navigateToAddPlace())}),s(2,"Add Place"),a(),r(3,"button",72),h("click",function(){b(t);let o=m(2);return _(o.deleteCurrentPlace())}),s(4,"Delete Place"),a()()}}function sn(i,e){if(i&1&&(r(0,"div",94)(1,"span",95),s(2),a()()),i&2){let t=m(5);l(2),O("+",t.trip.places[t.selectedPlaceIndex].pictures.length-4," more")}}function ln(i,e){if(i&1&&(r(0,"div",89)(1,"div",90),p(2,"img",91),u(3,sn,3,1,"div",92),p(4,"div",93),a()()),i&2){let t=e.$implicit,n=e.index,o=m(4);z("featured",n===0&&!o.isPhotoGalleryExpanded)("has-overlay",!o.isPhotoGalleryExpanded&&o.trip.places[o.selectedPlaceIndex].pictures.length>4&&n===3),l(2),d("src",t,F)("alt",(o.trip.places[o.selectedPlaceIndex].name||"Place")+" photo "+(n+1)),l(),d("ngIf",!o.isPhotoGalleryExpanded&&o.trip.places[o.selectedPlaceIndex].pictures.length>4&&n===3)}}function cn(i,e){if(i&1&&(r(0,"div",87),u(1,ln,5,7,"div",88),a()),i&2){let t=m(3);z("expanded",t.isPhotoGalleryExpanded),l(),d("ngForOf",t.isPhotoGalleryExpanded?t.trip.places[t.selectedPlaceIndex].pictures:t.trip.places[t.selectedPlaceIndex].pictures.slice(0,4))}}function pn(i,e){i&1&&(r(0,"div",96)(1,"div",97),P(),r(2,"svg",98),p(3,"path",99),a(),S(),r(4,"p"),s(5,"No photos yet."),a(),r(6,"p"),s(7,"Add photos to showcase this destination!"),a()()())}function dn(i,e){i&1&&(r(0,"div",103),p(1,"div",104),a())}function gn(i,e){i&1&&(P(),r(0,"svg",85),p(1,"path",105),a())}function mn(i,e){if(i&1){let t=w();r(0,"button",100),h("click",function(){b(t);let o=m(3);return _(o.openFileInput())}),u(1,dn,2,0,"div",101)(2,gn,2,0,"svg",102),s(3),a()}if(i&2){let t=m(3);d("disabled",t.isUploadingPhotos),l(),d("ngIf",t.isUploadingPhotos),l(),d("ngIf",!t.isUploadingPhotos),l(),O(" ",t.isUploadingPhotos?"Uploading...":"Add Photos"," ")}}function fn(i,e){if(i&1){let t=w();r(0,"div",73)(1,"div",74)(2,"h3",75),P(),r(3,"svg",76),p(4,"path",77),a(),s(5," Photo Gallery "),a(),S(),r(6,"div",78)(7,"span",79),s(8),a(),r(9,"span",80),s(10),a()()(),u(11,cn,2,3,"div",81)(12,pn,8,0,"div",82),r(13,"div",83)(14,"button",84),h("click",function(){b(t);let o=m(2);return _(o.togglePhotoGallery())}),P(),r(15,"svg",85),p(16,"path",28),a(),s(17),a(),u(18,mn,4,4,"button",86),a()()}if(i&2){let t=m(2);l(8),M(t.trip.places[t.selectedPlaceIndex].pictures.length||0),l(2),M(t.trip.places[t.selectedPlaceIndex].pictures.length===1?"photo":"photos"),l(),d("ngIf",t.trip.places[t.selectedPlaceIndex].pictures&&t.trip.places[t.selectedPlaceIndex].pictures.length>0),l(),d("ngIf",!t.trip.places[t.selectedPlaceIndex].pictures||t.trip.places[t.selectedPlaceIndex].pictures.length===0),l(2),z("disabled-btn",!t.trip.places[t.selectedPlaceIndex].pictures||t.trip.places[t.selectedPlaceIndex].pictures.length===0),l(3),O(" ",t.isPhotoGalleryExpanded?"Show Less":"View All Photos"," "),l(),d("ngIf",t.canEdit)}}function un(i,e){if(i&1&&(r(0,"div",63)(1,"div",64),u(2,an,5,0,"div",65),r(3,"div",66)(4,"h3",67),s(5),a(),r(6,"div",68),s(7),a()()(),u(8,fn,19,8,"div",69),a()),i&2){let t=m();l(2),d("ngIf",t.canEdit),l(3),O(" About ",t.trip.places[t.selectedPlaceIndex]?t.trip.places[t.selectedPlaceIndex].name:"This Place"," "),l(2),O(" ",t.trip.places[t.selectedPlaceIndex]?t.trip.places[t.selectedPlaceIndex].notes:"No notes available for this place."," "),l(),d("ngIf",t.trip.places[t.selectedPlaceIndex])}}function hn(i,e){if(i&1&&(r(0,"div",106)(1,"div",107)(2,"h3",108),P(),r(3,"svg",32),p(4,"path",109)(5,"path",110),a(),s(6," Trip Map "),a(),S(),r(7,"p",111),s(8,"Explore all destinations for this journey"),a()(),r(9,"div",112),p(10,"app-interactive-map",113),a()()),i&2){let t=m();l(10),d("places",t.trip.places)("tripName",t.trip.name)("mapHeight",450)("apiKey",t.googleMapsApiKey)("selectedPlaceIndex",t.selectedPlaceIndex)}}function xn(i,e){if(i&1){let t=w();r(0,"div",114)(1,"button",115),h("click",function(){b(t);let o=m();return _(o.deleteTrip())}),P(),r(2,"svg",3),p(3,"path",116)(4,"path",117)(5,"path",118)(6,"path",119),a(),s(7," Delete Trip "),a()()}}var ee=class i{constructor(e,t,n,o){this.route=e;this.router=t;this.tripProxy=n;this.http=o}trip={id:"",name:"",date:"",amountSpent:0,endDate:"",places:[]};selectedPlaceIndex=0;loading=!0;error=!1;errorMessage="";isPhotoGalleryExpanded=!1;navigationSubscription;canEdit=!1;navigationSource="public";fileInput;isUploadingPhotos=!1;googleMapsApiKey=xe.googleMapsApiKey;ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("id");t&&(console.log("paramMap subscription triggered for ID:",t),this.fetchTripDetails(t))}),this.route.queryParams.subscribe(e=>{if(this.navigationSource=e.source||"public",this.canEdit=this.navigationSource==="personal",console.log("Navigation source:",this.navigationSource,"| Can edit:",this.canEdit),e.refresh){let t=this.route.snapshot.paramMap.get("id");t&&(console.log("Refresh query parameter detected, forcing refresh for trip ID:",t),this.fetchTripDetails(t),this.router.navigate([],{relativeTo:this.route,queryParams:{refresh:null,source:this.navigationSource},queryParamsHandling:"merge",replaceUrl:!0}))}}),this.navigationSubscription=this.router.events.pipe(Te(e=>e instanceof Fe)).subscribe(e=>{let t=e.urlAfterRedirects||e.url;if(/^\/tripdetail\/[^/?]+(\?.*)?$/.test(t)){let o=t.split("?")[0].split("/"),c=o[o.length-1];console.log("NavigationEnd: Detected navigation to trip detail base route:",t),console.log("Attempting to refresh with ID from URL:",c),this.fetchTripDetails(c)}})}ngOnDestroy(){this.navigationSubscription&&this.navigationSubscription.unsubscribe()}refreshTripData(){let e=this.route.snapshot.paramMap.get("id");e&&(console.log("Manual refresh triggered for trip ID:",e),this.loading=!0,this.error=!1,this.fetchTripDetails(e))}fetchTripDetails(e){this.loading=!0,this.error=!1,console.log("=== STARTING fetchTripDetails ==="),console.log("Received tripId parameter:",e),this.tripProxy.getTripById(e).subscribe({next:t=>{console.log("Trip data received:",t),console.log("Trip _id:",t._id),console.log("Trip tripId:",t.tripId),console.log("Trip id:",t.id),this.trip.id=e,this.trip.name=t.name||"Unnamed Trip",this.trip.amountSpent=t.amount_spent||0;let n=t.tripId||e;console.log("Using ID for locations lookup:",n),this.fetchTripLocations(n)},error:t=>{console.error("Error fetching trip details:",t),this.error=!0,this.loading=!1,this.errorMessage="Failed to load trip details from server"}})}fetchTripLocations(e){console.log("=== STARTING fetchTripLocations ==="),console.log("Looking up locations for tripId:",e),console.log("[fetchTripLocations] About to call tripProxy.getItems for tripId:",e),this.tripProxy.getItems(e).subscribe({next:t=>{if(console.log("=== LOCATION API RESPONSE ==="),console.log("Raw location data received from service:",JSON.stringify(t)),t&&t.locations?(console.log("[fetchTripLocations] Received locations array from service:",JSON.stringify(t.locations)),console.log("[fetchTripLocations] Number of locations received:",t.locations.length)):console.log('[fetchTripLocations] No "locations" property found in service response or it is empty.'),t&&t.locations&&t.locations.length>0){this.trip.date=new Date().toISOString().split("T")[0],this.trip.endDate=new Date().toISOString().split("T")[0];let n=this.trip.places?this.trip.places.length:0;this.trip.places=t.locations.map((o,c)=>{console.log(`[DEBUG] Location ${c}:`,{name:o.name,address:o.address,location:o.location,description:o.description,startDate:o.startDate,endDate:o.endDate,dates:o.dates,cost:o.cost,notes:o.notes});let g="",f="";return o.startDate&&o.endDate?(g=o.startDate,f=o.endDate):o.dates&&Array.isArray(o.dates)&&o.dates.length>=2?(g=o.dates[0],f=o.dates[o.dates.length-1]):o.dates&&Array.isArray(o.dates)&&o.dates.length===1&&(g=o.dates[0],f=o.dates[0]),{name:o.name||"Unnamed Location",notes:o.notes||o.description||"",pictures:o.photos||[],location:typeof o.address=="string"?o.address:o.location||"",address:o.address||o.location||"",startDate:g,endDate:f,description:o.description||o.notes||"",cost:o.cost||o.price||0}}),console.log("[fetchTripLocations] Mapped this.trip.places. New count:",this.trip.places.length,". Previous count:",n),console.log("[fetchTripLocations] Updated this.trip.places content:",JSON.stringify(this.trip.places))}else console.log("[fetchTripLocations] No locations found in data or data.locations is empty. Resetting this.trip.places."),this.trip.date=new Date().toISOString().split("T")[0],this.trip.endDate=new Date().toISOString().split("T")[0],this.trip.places=[],console.log("[fetchTripLocations] this.trip.places is now empty.");this.trip.places.length>0?(this.selectedPlaceIndex=0,console.log("[fetchTripLocations] Reset selectedPlaceIndex to 0 as places are available.")):(this.selectedPlaceIndex=0,console.log("[fetchTripLocations] Reset selectedPlaceIndex to 0 (no places).")),this.loading=!1,console.log("[fetchTripLocations] Loading set to false."),this.debugPlacesDates()},error:t=>{console.log("=== LOCATION API ERROR ==="),console.error("Error fetching location details:",t),console.error("Error status:",t.status),console.error("Error statusText:",t.statusText),console.error("Error message:",t.message),console.error("Full error object:",t),this.error=!0,this.loading=!1}})}selectPlace(e){this.selectedPlaceIndex=e}navigateBack(){this.navigationSource==="personal"?this.router.navigate(["/your-trips"]):this.router.navigate(["/trips"])}navigateToAddPlace(){if(!this.canEdit){alert("You do not have permission to add places to this trip.");return}this.router.navigate(["/tripdetail",this.trip.id,"add-place"])}deleteCurrentPlace(){if(!this.canEdit){alert("You do not have permission to delete places from this trip.");return}if(!this.trip.places||this.trip.places.length===0){alert("No places to delete.");return}let e=this.trip.places[this.selectedPlaceIndex];if(!e){alert("No place selected to delete.");return}confirm(`Are you sure you want to delete "${e.name}"?`)&&this.tripProxy.deleteLocation(this.trip.id,this.selectedPlaceIndex).subscribe({next:t=>{console.log("Place deleted successfully:",t),this.trip.places.splice(this.selectedPlaceIndex,1),this.selectedPlaceIndex>=this.trip.places.length&&this.trip.places.length>0?this.selectedPlaceIndex=this.trip.places.length-1:this.trip.places.length===0&&(this.selectedPlaceIndex=0),alert("Place deleted successfully!")},error:t=>{console.error("Error deleting place:",t),alert("Failed to delete place. Please try again.")}})}togglePhotoGallery(){this.isPhotoGalleryExpanded=!this.isPhotoGalleryExpanded}calculateDuration(){if(!this.trip||!this.trip.date||!this.trip.endDate)return 0;let e=new Date(this.trip.date),t=new Date(this.trip.endDate),n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/(1e3*60*60*24))}debugPlacesDates(){console.log("=== DEBUG PLACES DATES ==="),console.log("trip.places:",this.trip.places),this.trip.places&&this.trip.places.forEach((e,t)=>{console.log(`Place ${t}:`,{name:e.name,startDate:e.startDate,endDate:e.endDate,startDateType:typeof e.startDate,endDateType:typeof e.endDate})}),console.log("Original trip.date:",this.trip.date),console.log("Original trip.endDate:",this.trip.endDate),console.log("Calculated start date:",this.getCalculatedStartDate()),console.log("Calculated end date:",this.getCalculatedEndDate())}parseDate(e){if(!e)return null;console.log("Parsing date:",e);let t=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2})$/);if(t){let[,c,g,f]=t,v=parseInt(`20${f}`),k=parseInt(c)-1,x=parseInt(g);console.log(`Creating date from MM/DD/YY: ${c}/${g}/${f} -> ${v}-${k+1}-${x}`);let C=new Date(v,k,x);if(!isNaN(C.getTime()))return console.log("Successfully parsed MM/DD/YY as:",C),C}let n=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(n){let[,c,g,f]=n,v=parseInt(f),k=parseInt(c)-1,x=parseInt(g);console.log(`Creating date from MM/DD/YYYY: ${c}/${g}/${f} -> ${v}-${k+1}-${x}`);let C=new Date(v,k,x);if(!isNaN(C.getTime()))return console.log("Successfully parsed MM/DD/YYYY as:",C),C}let o=new Date(e);return isNaN(o.getTime())?(console.log("Failed to parse date:",e),null):(console.log("Successfully parsed original format as:",o),o)}getCalculatedStartDate(){if(console.log("=== getCalculatedStartDate ==="),console.log("trip.places:",this.trip.places),!this.trip.places||this.trip.places.length===0)return console.log("No places found, returning trip.date:",this.trip.date),this.trip.date||"";this.trip.places.forEach((n,o)=>{console.log(`Place ${o}: ${n.name}, startDate: ${n.startDate}`)});let e=this.trip.places.filter(n=>n.startDate).map(n=>this.parseDate(n.startDate)).filter(n=>n!==null);if(console.log("Valid start dates:",e),e.length===0)return console.log("No valid start dates, returning trip.date:",this.trip.date),this.trip.date||"";e.sort((n,o)=>n.getTime()-o.getTime());let t=this.formatDateAsYYYYMMDD(e[0]);return console.log("Calculated earliest start date:",t),t}getCalculatedEndDate(){if(console.log("=== getCalculatedEndDate ==="),console.log("trip.places:",this.trip.places),!this.trip.places||this.trip.places.length===0)return console.log("No places found, returning trip.endDate:",this.trip.endDate),this.trip.endDate||"";this.trip.places.forEach((n,o)=>{console.log(`Place ${o}: ${n.name}, endDate: ${n.endDate}`)});let e=this.trip.places.filter(n=>n.endDate).map(n=>this.parseDate(n.endDate)).filter(n=>n!==null);if(console.log("Valid end dates:",e),e.length===0)return console.log("No valid end dates, returning trip.endDate:",this.trip.endDate),this.trip.endDate||"";e.sort((n,o)=>o.getTime()-n.getTime());let t=this.formatDateAsYYYYMMDD(e[0]);return console.log("Calculated latest end date:",t),t}calculateDurationFromPlaces(){let e=this.getCalculatedStartDate(),t=this.getCalculatedEndDate();if(!e||!t)return 0;let n=new Date(e),o=new Date(t),c=Math.abs(o.getTime()-n.getTime());return Math.ceil(c/(1e3*60*60*24))}getDisplayAddress(e){return e.address?E.getDisplayAddress(e.address):e.location||"No address available"}getGoogleMapsUrl(e){return e.address?E.getGoogleMapsUrl(e.address):e.location?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.location)}`:null}hasCoordinates(e){return e.address?E.hasCoordinates(e.address):!1}getMapImage(){if(!this.trip||!this.trip.places||this.trip.places.length===0)return"https://via.placeholder.com/600x400?text=No+Locations";let e=this.trip.places.filter(o=>o.address&&E.hasCoordinates(o.address)).map(o=>({coordinates:E.getCoordinates(o.address),formattedAddress:E.getFormattedAddress(o.address)}));if(e.length>0){let g=e.map(x=>x.coordinates),f=g.reduce((x,C)=>x+C.latitude,0)/g.length,v=g.reduce((x,C)=>x+C.longitude,0)/g.length,k=`https://maps.googleapis.com/maps/api/staticmap?size=600x400&center=${f},${v}&zoom=10`;return e.forEach((x,C)=>{k+=`&markers=color:red%7Clabel:${C+1}%7C${x.coordinates.latitude},${x.coordinates.longitude}`}),k}let t=this.trip.places[0],n=this.getDisplayAddress(t);return n&&n!=="No address available"?`https://maps.googleapis.com/maps/api/staticmap?size=600x400&markers=${encodeURIComponent(n)}`:"https://via.placeholder.com/600x400?text=Map+Unavailable"}deleteTrip(){if(!this.canEdit){alert("You do not have permission to delete this trip.");return}if(!this.trip.name){alert("No trip to delete.");return}let e=`Are you sure you want to delete the entire trip "${this.trip.name}"?

This will permanently delete:
- The trip information
- All ${this.trip.places?.length||0} places in this trip
- All photos and notes

This action cannot be undone.`;confirm(e)&&(console.log("Deleting entire trip:",this.trip.id),this.tripProxy.deleteTrip(this.trip.id).subscribe({next:t=>{console.log("Trip deleted successfully:",t),alert(`Trip "${this.trip.name}" has been deleted successfully!`),this.router.navigate(["/trips"])},error:t=>{console.error("Error deleting trip:",t),alert("Failed to delete trip. Please try again.")}}))}formatDateAsYYYYMMDD(e){let t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return`${t}-${n}-${o}`}getCalculatedTotalBudget(){if(console.log("=== getCalculatedTotalBudget ==="),console.log("trip.places:",this.trip.places),!this.trip.places||this.trip.places.length===0)return console.log("No places found, returning trip.amountSpent:",this.trip.amountSpent),this.trip.amountSpent||0;this.trip.places.forEach((t,n)=>{console.log(`Place ${n}: ${t.name}, cost: ${t.cost}`)});let e=this.trip.places.filter(t=>t.cost&&t.cost>0).reduce((t,n)=>t+(n.cost||0),0);return console.log("Calculated total budget from places:",e),e===0?(console.log("No valid place costs found, falling back to trip.amountSpent:",this.trip.amountSpent),this.trip.amountSpent||0):e}openFileInput(){if(!this.canEdit){alert("You do not have permission to add photos to this trip.");return}this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=!0,this.fileInput.accept="image/*",this.fileInput.addEventListener("change",e=>{this.handleFileSelection(e)}),this.fileInput.click()}handleFileSelection(e){let t=e.target.files;t&&t.length>0&&this.uploadPhotos(t)}uploadPhotos(e){return I(this,null,function*(){try{this.isUploadingPhotos=!0;let t=yield this.processPhotos(Array.from(e));this.tripProxy.addPhotosToPlace(this.trip.id,this.selectedPlaceIndex,t).subscribe({next:n=>{console.log("Photos added successfully:",n),this.fetchTripDetails(this.trip.id),this.isUploadingPhotos=!1},error:n=>{console.error("Error adding photos:",n),alert("Failed to add photos: "+n.message),this.isUploadingPhotos=!1}})}catch(t){console.error("Error processing photos:",t),alert("Failed to process photos"),this.isUploadingPhotos=!1}})}processPhotos(e){return I(this,null,function*(){if(!e||e.length===0)return[];let t=e.map(n=>new Promise((o,c)=>{let g=new FileReader;g.onload=()=>{g.result?o(g.result):c(new Error("Failed to read file"))},g.onerror=()=>c(new Error("Error reading file")),g.readAsDataURL(n)}));try{return yield Promise.all(t)}catch(n){throw console.error("Error processing photos:",n),n}})}static \u0275fac=function(t){return new(t||i)(y(Y),y(W),y(G),y(de))};static \u0275cmp=T({type:i,selectors:[["app-tripdetail"]],decls:16,vars:10,consts:[[1,"tripdetail-container"],[1,"tripdetail-content"],[1,"back-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"margin-right","5px"],["d","M15 18L9 12L15 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","text-center my-5",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","trip-title",4,"ngIf"],["class","permission-indicator",4,"ngIf"],["class","trip-meta",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","places-carousel-container",4,"ngIf"],["class","tripdetail-main",4,"ngIf"],["class","map-section-container",4,"ngIf"],["class","trip-actions",4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-warning"],[1,"trip-title"],[1,"permission-indicator"],[1,"permission-badge"],["width","16","height","16","viewBox","0 0 24 24","fill","none",4,"ngIf"],[4,"ngIf"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.50023C18.8978 2.10243 19.4374 1.87891 20 1.87891C20.5626 1.87891 21.1022 2.10243 21.5 2.50023C21.8978 2.89804 22.1213 3.43762 22.1213 4.00023C22.1213 4.56284 21.8978 5.10243 21.5 5.50023L12 15.0002L8 16.0002L9 12.0002L18.5 2.50023Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5S21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12S9.24 7 12 7S17 9.24 17 12S14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12S10.34 15 12 15S15 13.66 15 12S13.66 9 12 9Z","fill","currentColor"],[1,"trip-meta"],[1,"meta-card"],[1,"meta-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M8 2V5M16 2V5M3.5 9.09H20.5M21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5Z","stroke","currentColor","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M15.6947 13.7002H15.7037M15.6947 16.7002H15.7037M11.9955 13.7002H12.0045M11.9955 16.7002H12.0045M8.29431 13.7002H8.30329M8.29431 16.7002H8.30329","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"meta-content"],[1,"trip-meta-label"],[1,"trip-meta-value"],["d","M12 8V16M8 12H16","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","1.5"],["d","M12 6V12L16 14","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M17 9V7C17 5.89543 16.1046 5 15 5H9C7.89543 5 7 5.89543 7 7V9M7 9C5.89543 9 5 9.89543 5 11V18C5 19.1046 5.89543 20 7 20H17C18.1046 20 19 19.1046 19 18V11C19 9.89543 18.1046 9 17 9M7 9H17","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","13","r","1","fill","currentColor"],[1,"alert","alert-info"],[1,"places-carousel-container"],[1,"carousel-header"],[1,"carousel-title"],[1,"carousel-subtitle"],[1,"places-carousel"],["class","place-card",3,"selected","click",4,"ngFor","ngForOf"],["class","carousel-dots",4,"ngIf"],[1,"place-card",3,"click"],[1,"place-name"],["class","place-dates",4,"ngIf"],["class","place-cost",4,"ngIf"],[1,"place-pics"],[1,"place-dates"],[1,"place-cost"],[1,"cost-label"],[1,"cost-value"],[1,"carousel-dots"],["class","dot",3,"active-dot","click",4,"ngFor","ngForOf"],[1,"dot",3,"click"],[1,"tripdetail-main"],[1,"place-notes"],["class","place-actions",4,"ngIf"],[1,"notes-box"],[2,"margin-top","0","color","#333","margin-bottom","16px"],[1,"place-notes-content"],["class","place-pictures",4,"ngIf"],[1,"place-actions"],[1,"add-place-btn",3,"click"],[1,"delete-place-btn",3,"click"],[1,"place-pictures"],[1,"pictures-header"],[1,"pictures-title"],["width","24","height","24","viewBox","0 0 24 24","fill","none",1,"pictures-icon"],["d","M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z","fill","currentColor"],[1,"pictures-count"],[1,"count-badge"],[1,"count-text"],["class","pictures-grid",3,"expanded",4,"ngIf"],["class","empty-photos-container",4,"ngIf"],[1,"pictures-actions"],[1,"view-all-btn",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none"],["class","add-pictures-btn",3,"disabled","click",4,"ngIf"],[1,"pictures-grid"],["class","picture-thumb",3,"featured","has-overlay",4,"ngFor","ngForOf"],[1,"picture-thumb"],[1,"picture-container"],["onerror","this.src='https://via.placeholder.com/300x200/f8f9fa/6c757d?text=No+Image'",1,"picture-image",3,"src","alt"],["class","picture-overlay",4,"ngIf"],[1,"picture-gradient"],[1,"picture-overlay"],[1,"overlay-text"],[1,"empty-photos-container"],[1,"empty-photos-message"],["width","48","height","48","viewBox","0 0 24 24","fill","none"],["d","M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z","fill","#e9ecef"],[1,"add-pictures-btn",3,"click","disabled"],["class","spinner-container",4,"ngIf"],["width","18","height","18","viewBox","0 0 24 24","fill","none",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],["d","M12 2C13.1 2 14 2.9 14 4V10H20C21.1 10 22 10.9 22 12S21.1 14 20 14H14V20C14 21.1 13.1 22 12 22S10 21.1 10 20V14H4C2.9 14 2 13.1 2 12S2.9 10 4 10H10V4C10 2.9 10.9 2 12 2Z","fill","currentColor"],[1,"map-section-container"],[1,"map-section-header"],[1,"map-section-title"],["d","M12 12.75C13.6569 12.75 15 11.4069 15 9.75C15 8.09315 13.6569 6.75 12 6.75C10.3431 6.75 9 8.09315 9 9.75C9 11.4069 10.3431 12.75 12 12.75Z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M19.5 9.75C19.5 16.5 12 21.75 12 21.75C12 21.75 4.5 16.5 4.5 9.75C4.5 7.76088 5.29018 5.85322 6.6967 4.4467C8.10322 3.04018 10.0109 2.25 12 2.25C13.9891 2.25 15.8968 3.04018 17.3033 4.4467C18.7098 5.85322 19.5 7.76088 19.5 9.75V9.75Z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"map-section-subtitle"],[1,"map-section"],[3,"places","tripName","mapHeight","apiKey","selectedPlaceIndex"],[1,"trip-actions"],[1,"delete-trip-btn",3,"click"],["d","M3 6H5H21","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M10 11V17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 11V17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return n.navigateBack()}),P(),r(3,"svg",3),p(4,"path",4),a(),s(5," Back to Trips "),a(),u(6,$t,6,0,"div",5)(7,Ft,3,0,"div",6)(8,jt,2,1,"h1",7)(9,Kt,6,8,"div",8)(10,Zt,44,13,"div",9)(11,Qt,3,0,"div",10)(12,rn,9,2,"div",11)(13,un,9,4,"div",12)(14,hn,11,5,"div",13),a(),u(15,xn,8,0,"div",14),a()),t&2&&(l(6),d("ngIf",n.loading),l(),d("ngIf",n.error),l(),d("ngIf",!n.loading),l(),d("ngIf",!n.loading&&!n.error),l(),d("ngIf",!n.loading&&!n.error),l(),d("ngIf",!n.loading&&!n.error&&n.trip.places.length===0),l(),d("ngIf",!n.loading&&!n.error&&n.trip.places.length>0),l(),d("ngIf",!n.loading&&!n.error&&n.trip.places.length>0),l(),d("ngIf",!n.loading&&!n.error&&n.trip.places.length>0),l(),d("ngIf",!n.loading&&!n.error&&n.canEdit))},dependencies:[D,j,L,He,Ne,A,ge,ye],styles:['.tripdetail-container[_ngcontent-%COMP%]{background:#f8f9fa;min-height:100vh;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial,sans-serif;color:#333}.tripdetail-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px 20px 48px}.trip-title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:#2d3b45;margin:.5em 0 .8em;letter-spacing:-.02em}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#2b9e5f;font-size:1rem;font-weight:600;cursor:pointer;margin-bottom:16px;display:flex;align-items:center;padding:8px 12px;border-radius:4px;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background-color:#2b9e5f14}.trip-meta[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8f9facc);border-radius:20px;padding:32px 24px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;font-size:1rem;margin-bottom:40px;color:#333;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #ffffffe6;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative;overflow:hidden}.trip-meta[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%,to{background-position:-200% 0}50%{background-position:200% 0}}.meta-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:linear-gradient(145deg,#ffffffb3,#f8f9fa80);border-radius:16px;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.5);position:relative;overflow:hidden}.meta-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .6s ease}.meta-card[_ngcontent-%COMP%]:hover:before{left:100%}.meta-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 32px #2b9e5f1f,0 8px 16px #00000014;border-color:#2b9e5f4d}.meta-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:linear-gradient(135deg,#2b9e5f,#228b50);border-radius:12px;color:#fff;box-shadow:0 4px 16px #2b9e5f4d,0 2px 8px #2b9e5f33;position:relative;flex-shrink:0}.meta-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:2px;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);border-radius:10px;pointer-events:none}.meta-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;z-index:1;position:relative}.meta-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.trip-meta-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.05em;margin-bottom:2px}.trip-meta-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2d3b45;line-height:1.2}.trip-actions[_ngcontent-%COMP%]{margin-bottom:32px;padding-left:70px;display:flex;justify-content:left}.delete-trip-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #dc3545;color:#dc3545;border-radius:8px;padding:12px 24px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;box-shadow:0 2px 8px #dc35451a}.delete-trip-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-2px);box-shadow:0 4px 16px #dc35454d}.delete-trip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.delete-trip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.places-carousel-container[_ngcontent-%COMP%]{margin-bottom:40px;position:relative}.carousel-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.carousel-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;color:#2d3b45;margin:0 0 8px;background:linear-gradient(135deg,#2b9e5f,#228b50);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;position:relative}.carousel-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin:0;font-weight:500;font-style:italic}.places-carousel[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;padding:16px 8px 20px;scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none;background:linear-gradient(135deg,#f8f9facc,#e9ecef66);border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.places-carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.place-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#f8f9fa);border:none;border-radius:16px;padding:24px;cursor:pointer;min-width:200px;max-width:220px;transition:all .35s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 20px #00000014,0 2px 8px #0000000a,inset 0 1px #ffffffe6;position:relative;overflow:hidden;display:flex;flex-direction:column;gap:8px}.place-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);transition:left .6s ease}.place-card[_ngcontent-%COMP%]:hover:before{left:100%}.place-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 40px #2b9e5f26,0 8px 24px #0000001a,inset 0 1px #fff;border:2px solid rgba(43,158,95,.2)}.place-card.selected[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#2b9e5f05);border:2px solid #2b9e5f;box-shadow:0 8px 32px #2b9e5f33,0 4px 16px #2b9e5f1a,inset 0 1px #fff;transform:translateY(-4px) scale(1.02)}.place-card.selected[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:12px;right:12px;width:24px;height:24px;background:#2b9e5f;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;animation:_ngcontent-%COMP%_checkmark .3s ease-out}@keyframes _ngcontent-%COMP%_checkmark{0%{transform:scale(0) rotate(180deg);opacity:0}50%{transform:scale(1.3) rotate(90deg);opacity:.8}to{transform:scale(1) rotate(0);opacity:1}}.place-location[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;margin-bottom:6px;display:flex;align-items:center;gap:4px;position:relative;z-index:2;font-style:italic}.place-location[_ngcontent-%COMP%]:before{content:"\\1f4cd";font-size:.85rem}.place-dates[_ngcontent-%COMP%]{font-size:.85rem;color:#2b9e5f;font-weight:600;margin-bottom:8px;display:flex;align-items:center;gap:4px;position:relative;z-index:2}.place-dates[_ngcontent-%COMP%]:before{content:"\\1f4c5";font-size:.9rem;margin-right:4px}.place-description[_ngcontent-%COMP%]{font-size:.85rem;color:#495057;line-height:1.4;margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;min-height:2.4em;position:relative;z-index:2;font-style:italic}.place-cost[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:8px;font-size:.9rem;position:relative;z-index:2}.cost-label[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}.cost-value[_ngcontent-%COMP%]{color:#28a745;font-weight:700;background:linear-gradient(135deg,#28a7451a,#28a7450d);padding:2px 8px;border-radius:12px;border:1px solid rgba(40,167,69,.2);font-size:.85rem}.place-cost[_ngcontent-%COMP%]:before{content:"\\1f4b0";font-size:.9rem}.place-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#f8f9fa);border:none;border-radius:16px;padding:20px;cursor:pointer;min-width:240px;max-width:260px;transition:all .35s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 20px #00000014,0 2px 8px #0000000a,inset 0 1px #ffffffe6;position:relative;overflow:hidden;display:flex;flex-direction:column;gap:8px}.place-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;margin-bottom:6px;color:#2d3b45;line-height:1.3;position:relative;z-index:2;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;min-height:2.6em}.place-pics[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;display:flex;align-items:center;gap:6px;font-weight:500;position:relative;z-index:2;margin-top:auto;padding-top:8px;border-top:1px solid rgba(0,0,0,.05)}.place-pics[_ngcontent-%COMP%]:before{content:"\\1f4f8";font-size:1rem}.place-card[_ngcontent-%COMP%]:hover   .place-name[_ngcontent-%COMP%]{color:#2b9e5f}.place-card[_ngcontent-%COMP%]:hover   .cost-value[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a74533,#28a7451a);border-color:#28a74566;transform:scale(1.05)}.place-card[_ngcontent-%COMP%]:hover   .place-dates[_ngcontent-%COMP%]{color:#228b50}.place-card.selected[_ngcontent-%COMP%]   .place-name[_ngcontent-%COMP%]{color:#2b9e5f}.place-card.selected[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f33,#2b9e5f1a);border-color:#2b9e5f66}.place-card.selected[_ngcontent-%COMP%]   .place-dates[_ngcontent-%COMP%]{color:#2b9e5f}.place-description[_ngcontent-%COMP%]:empty:before{content:"No description available";color:#adb5bd;font-style:italic;font-size:.8rem}@media (max-width: 768px){.place-card[_ngcontent-%COMP%]{min-width:200px;max-width:220px;padding:16px}.place-name[_ngcontent-%COMP%]{font-size:1rem}.place-location[_ngcontent-%COMP%], .place-dates[_ngcontent-%COMP%], .place-description[_ngcontent-%COMP%], .place-cost[_ngcontent-%COMP%]{font-size:.8rem}.cost-value[_ngcontent-%COMP%]{font-size:.8rem;padding:1px 6px}}@media (max-width: 480px){.place-card[_ngcontent-%COMP%]{min-width:180px;max-width:200px;padding:14px;gap:6px}.place-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.place-location[_ngcontent-%COMP%], .place-dates[_ngcontent-%COMP%], .place-description[_ngcontent-%COMP%], .place-cost[_ngcontent-%COMP%], .place-pics[_ngcontent-%COMP%]{font-size:.75rem}.cost-value[_ngcontent-%COMP%]{font-size:.75rem;padding:1px 5px}}.place-card[_ngcontent-%COMP%]   .place-location[_ngcontent-%COMP%], .place-card[_ngcontent-%COMP%]   .place-dates[_ngcontent-%COMP%], .place-card[_ngcontent-%COMP%]   .place-description[_ngcontent-%COMP%], .place-card[_ngcontent-%COMP%]   .place-cost[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out .1s forwards}.place-card[_ngcontent-%COMP%]   .place-dates[_ngcontent-%COMP%]{animation-delay:.15s}.place-card[_ngcontent-%COMP%]   .place-description[_ngcontent-%COMP%]{animation-delay:.2s}.place-card[_ngcontent-%COMP%]   .place-cost[_ngcontent-%COMP%]{animation-delay:.25s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.places-carousel[_ngcontent-%COMP%]{display:flex;gap:24px;overflow-x:auto;padding:20px 8px 24px;scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none;background:linear-gradient(135deg,#f8f9facc,#e9ecef66);border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.place-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;justify-content:center;flex-wrap:wrap}.add-place-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);border:none;color:#fff;border-radius:12px;padding:14px 28px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:8px;box-shadow:0 4px 16px #2b9e5f4d,0 2px 8px #2b9e5f33,inset 0 1px #fff3;text-decoration:none;position:relative;overflow:hidden;min-width:140px;justify-content:center}.add-place-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}.add-place-btn[_ngcontent-%COMP%]:hover:before{left:100%}.add-place-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#228b50,#1e7e47);transform:translateY(-3px) scale(1.02);box-shadow:0 8px 24px #2b9e5f66,0 4px 12px #2b9e5f4d,inset 0 1px #ffffff4d}.add-place-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(1.01);box-shadow:0 4px 12px #2b9e5f4d,0 2px 6px #2b9e5f33}.delete-place-btn[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#f8f9fa);border:2px solid #dc3545;color:#dc3545;border-radius:12px;padding:12px 26px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:8px;box-shadow:0 2px 8px #dc35451a,inset 0 1px #ffffffe6;position:relative;overflow:hidden;min-width:140px;justify-content:center}.delete-place-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(220,53,69,.1),transparent);transition:left .6s ease}.delete-place-btn[_ngcontent-%COMP%]:hover:before{left:100%}.delete-place-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border-color:#dc3545;transform:translateY(-3px) scale(1.02);box-shadow:0 8px 24px #dc35454d,0 4px 12px #dc354533}.delete-place-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(1.01);box-shadow:0 4px 12px #dc354533,0 2px 6px #dc35451a}.add-place-btn[_ngcontent-%COMP%]:after{content:"+";font-size:1.2rem;font-weight:700;margin-left:4px;transition:transform .2s ease}.add-place-btn[_ngcontent-%COMP%]:hover:after{transform:rotate(90deg) scale(1.1)}.notes-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8f9fae6);border:1px solid rgba(210,23,23,.08);border-radius:16px;padding:28px 24px;margin-top:24px;position:relative;box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a}.notes-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px!important;color:#2d3b45!important;font-size:1.4rem;font-weight:700;letter-spacing:-.02em;position:relative;display:flex;align-items:center;gap:12px}.notes-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";width:4px;height:28px;background:linear-gradient(135deg,#228b50,#1e7e47);border-radius:2px;box-shadow:0 2px 8px #0000001a}.notes-box[_ngcontent-%COMP%]{font-size:1rem;line-height:1.65;color:#4a5568;font-weight:400;text-align:justify;position:relative}.notes-box[_ngcontent-%COMP%]:has-text("No notes available"){font-style:italic;color:#718096;text-align:center;opacity:.8}@media (max-width: 768px){.notes-box[_ngcontent-%COMP%]{margin-top:20px;padding:20px 18px;border-radius:12px}.notes-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:16px!important}.notes-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{width:3px;height:24px}}.place-pictures[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8f9fae6);border:1px solid rgba(0,0,0,.08);border-radius:20px;padding:32px 28px;margin-top:32px;position:relative;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden}.place-pictures[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#2b9e5f,#61ef79,#38d9a9,#2b9e5f);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 4s ease-in-out infinite}.pictures-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:16px}.pictures-title[_ngcontent-%COMP%]{margin:0!important;color:#2d3b45!important;font-size:1.5rem!important;font-weight:700!important;letter-spacing:-.02em;display:flex;align-items:center;gap:12px;position:relative}.pictures-icon[_ngcontent-%COMP%]{color:#2b9e5f;filter:drop-shadow(0 2px 4px rgba(43,158,95,.2))}.pictures-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:linear-gradient(135deg,#2b9e5f1a,#2b9e5f0d);padding:8px 16px;border-radius:20px;border:1px solid rgba(43,158,95,.2)}.count-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#228b50);color:#fff;font-weight:700;font-size:.9rem;padding:4px 10px;border-radius:12px;min-width:24px;text-align:center;box-shadow:0 2px 8px #2b9e5f4d}.count-text[_ngcontent-%COMP%]{color:#2b9e5f;font-size:.9rem;font-weight:600}.pictures-grid.expanded[_ngcontent-%COMP%]   .picture-thumb[_ngcontent-%COMP%]{aspect-ratio:4/3}.pictures-grid.expanded[_ngcontent-%COMP%]   .picture-thumb.featured[_ngcontent-%COMP%]{grid-column:span 1;aspect-ratio:4/3}.pictures-grid.expanded[_ngcontent-%COMP%]   .picture-thumb[_ngcontent-%COMP%]:nth-child(3n+1){animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out forwards;animation-delay:.1s}.pictures-grid.expanded[_ngcontent-%COMP%]   .picture-thumb[_ngcontent-%COMP%]:nth-child(3n+2){animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out forwards;animation-delay:.2s}.pictures-grid.expanded[_ngcontent-%COMP%]   .picture-thumb[_ngcontent-%COMP%]:nth-child(3n+3){animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out forwards;animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.picture-thumb[_ngcontent-%COMP%]{position:relative;border-radius:16px;overflow:hidden;aspect-ratio:4/3;background:linear-gradient(135deg,#f8f9fa,#e9ecef);transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer;box-shadow:0 4px 20px #00000014,0 2px 8px #0000000a}.picture-thumb.featured[_ngcontent-%COMP%]{grid-column:span 2;aspect-ratio:16/9}.picture-thumb[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #00000026,0 6px 20px #00000014}.picture-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.picture-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:all .4s cubic-bezier(.4,0,.2,1);border:none}.picture-thumb[_ngcontent-%COMP%]:hover   .picture-image[_ngcontent-%COMP%]{transform:scale(1.08)}.picture-gradient[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:50%;background:linear-gradient(transparent,#0006);opacity:0;transition:opacity .3s ease}.picture-thumb[_ngcontent-%COMP%]:hover   .picture-gradient[_ngcontent-%COMP%]{opacity:1}.picture-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#2b9e5fe6,#228b50cc);display:flex;align-items:center;justify-content:center;opacity:0;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.picture-thumb.has-overlay[_ngcontent-%COMP%]:hover   .picture-overlay[_ngcontent-%COMP%]{opacity:1}.overlay-text[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;font-weight:700;text-shadow:0 2px 8px rgba(0,0,0,.3);transform:translateY(10px);transition:transform .3s ease}.picture-thumb.has-overlay[_ngcontent-%COMP%]:hover   .overlay-text[_ngcontent-%COMP%]{transform:translateY(0)}.pictures-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:12px;align-items:center;justify-content:flex-start}.view-all-btn[_ngcontent-%COMP%], .add-pictures-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;border-radius:50px;font-weight:600;font-size:.9rem;transition:all .3s ease;cursor:pointer;border:2px solid #2b9e5f;background:transparent;color:#2b9e5f;box-shadow:0 2px 8px #00000014}.view-all-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b9e5f,#3ab06f);color:#fff;transform-origin:center}.view-all-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #2b9e5f40}.view-all-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #2b9e5f40}.view-all-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .5s ease}.view-all-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.2)}.view-all-btn[_ngcontent-%COMP%]{overflow:hidden;position:relative}.view-all-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;background:linear-gradient(135deg,#2b9e5f33,#3bb06f33);opacity:0;border-radius:50px;transition:opacity .3s ease}.view-all-btn[_ngcontent-%COMP%]:hover:after{opacity:1}.pictures-grid[_ngcontent-%COMP%]{transition:max-height .5s cubic-bezier(.4,0,.2,1),opacity .5s cubic-bezier(.4,0,.2,1),transform .5s cubic-bezier(.4,0,.2,1)}.pictures-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:28px;transition:all .5s cubic-bezier(.4,0,.2,1);will-change:grid-template-columns,max-height}.pictures-grid.expanded[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);animation:_ngcontent-%COMP%_expandGrid .5s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_expandGrid{0%{opacity:.8;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.view-all-btn.disabled-btn[_ngcontent-%COMP%]{opacity:.5;background:linear-gradient(135deg,#8a8a8a,#a0a0a0);cursor:not-allowed;box-shadow:none;pointer-events:none}.view-all-btn.disabled-btn[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.view-all-btn.disabled-btn[_ngcontent-%COMP%]:after{display:none}.add-pictures-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;border:1px solid rgba(0,0,0,.1);font-weight:600;font-size:.9rem;padding:12px 20px;border-radius:50px;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #00000014}.add-pictures-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:#2b9e5f1a;box-shadow:0 6px 12px #2b9e5f26;border-color:#3ab06f}.add-pictures-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.add-pictures-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.add-pictures-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:18px;height:18px}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;border-right-color:#fff9;animation:_ngcontent-%COMP%_spin 1s cubic-bezier(.6,.2,.4,.8) infinite;box-shadow:0 0 5px #fff3}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.add-pictures-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background:linear-gradient(135deg,#d0d0d0,#e0e0e0)}.empty-photos-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:250px;border-radius:16px;background:linear-gradient(135deg,#f8f9fab3,#e9ecef80);border:1px dashed rgba(43,158,95,.3);margin-bottom:28px;transition:all .3s ease}.empty-photos-container[_ngcontent-%COMP%]:hover{border-color:#2b9e5f80;box-shadow:0 4px 20px #2b9e5f14;background:linear-gradient(135deg,#f8f9facc,#e9ecef99)}.empty-photos-message[_ngcontent-%COMP%]{text-align:center;color:#6c757d;padding:32px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.empty-photos-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.7;transition:all .3s ease;filter:drop-shadow(0 2px 5px rgba(0,0,0,.1))}.empty-photos-container[_ngcontent-%COMP%]:hover   .empty-photos-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1);opacity:.9}.empty-photos-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.2rem;font-weight:600;margin-bottom:8px;color:#495057}.empty-photos-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{font-size:.95rem;opacity:.8}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.disabled-btn[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;background:linear-gradient(135deg,#6c757d,#868e96)!important;box-shadow:none!important;transform:none!important}.disabled-btn[_ngcontent-%COMP%]:hover{transform:none!important;box-shadow:none!important}.permission-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.permission-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:20px;font-size:.875rem;font-weight:600;transition:all .3s ease}.permission-badge.editable[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1f2d9,#c8f0d0);color:#2b9e5f;border:1px solid rgba(43,158,95,.2)}.permission-badge.read-only[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e9ecef,#f8f9fa);color:#6c757d;border:1px solid rgba(108,117,125,.2)}.permission-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.address-section[_ngcontent-%COMP%]{background-color:#eef4ff;border-radius:8px;padding:16px;margin-bottom:20px;border-left:4px solid #4285f4}.address-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;display:flex;align-items:center;color:#3c4043;margin-top:0;margin-bottom:8px}.address-text[_ngcontent-%COMP%]{margin-bottom:12px;font-size:.95rem;line-height:1.5;color:#5f6368}.maps-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;text-decoration:none;font-weight:500;font-size:.9rem;color:#4285f4;padding:6px 12px;border-radius:4px;background-color:#4285f41a;transition:background-color .2s}.maps-link[_ngcontent-%COMP%]:hover{background-color:#4285f433;text-decoration:none}.notes-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#3c4043;margin-top:0;margin-bottom:8px}.place-notes-content[_ngcontent-%COMP%]{line-height:1.6}.map-section-container[_ngcontent-%COMP%]{margin-top:48px;margin-bottom:48px}.map-section-header[_ngcontent-%COMP%]{margin-bottom:20px}.map-section-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2b9e5f;margin:0 0 8px;display:flex;align-items:center;position:relative}.map-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:60px;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50);border-radius:2px}.map-section-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:12px;color:#2b9e5f;font-size:1.8rem}.map-section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin:16px 0 0;font-weight:400}.map-section[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative}.map-section[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #2b9e5f1f,0 8px 20px #00000014}.map-section[_ngcontent-%COMP%]:before{content:"";display:block;height:4px;background:linear-gradient(90deg,#2b9e5f,#228b50,#4fb373);border-radius:20px 20px 0 0}@media (max-width: 768px){.map-section-container[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:32px}.map-section-title[_ngcontent-%COMP%]{font-size:1.6rem}.map-section-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:8px}.map-section-subtitle[_ngcontent-%COMP%]{font-size:1rem}.map-section[_ngcontent-%COMP%]{border-radius:16px}}@media (max-width: 480px){.map-section-container[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:24px}.map-section-title[_ngcontent-%COMP%]{font-size:1.4rem}.map-section-title[_ngcontent-%COMP%]:after{width:40px;height:3px}.map-section[_ngcontent-%COMP%]{border-radius:12px}}']})};var Ie=[{path:"",component:Pe},{path:"trips",component:Me},{path:"your-trips",loadComponent:()=>import("./chunk-UXCIQT4L.js").then(i=>i.YourTripsComponent)},{path:"add-trips",loadComponent:()=>import("./chunk-N4ZQNSDI.js").then(i=>i.AddTripComponent)},{path:"tripdetail/:tripId/add-place",loadComponent:()=>import("./chunk-KVW3UNGK.js").then(i=>i.AddPlaceComponent)},{path:"tripdetail",component:ee},{path:"tripdetail/:id",component:ee},{path:"**",redirectTo:"",pathMatch:"full"}],Je=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ae({type:i});static \u0275inj=Ee({imports:[A.forRoot(Ie),A]})};Ve(ve,{providers:[We(Ie),$e(),R]}).catch(i=>console.error(i));
